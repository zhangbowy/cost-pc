(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{SZkq:function(e,t,a){e.exports={payContent:"payContent___GB579","acctive-bg":"acctive-bg___fAzE9",message:"message___2QzzG",active:"active___274yF",noActive:"noActive___3rx30",search:"search___34QN6",label:"label___24n9h"}},n53S:function(e,t,a){"use strict";a.r(t);a("g9YV");var n,r,i,o=a("wCAj"),c=(a("lUTK"),a("BvKs")),l=(a("5Dmo"),a("3S7+")),s=a("p0pE"),u=a.n(s),p=a("2Taf"),m=a.n(p),d=a("vZ4D"),h=a.n(d),f=a("rlhR"),y=a.n(f),g=a("MhPg"),v=a.n(g),E=a("l4Ni"),w=a.n(E),N=a("ujKo"),C=a.n(N),S=(a("iQDF"),a("+eQT")),b=a("q1tI"),x=a.n(b),T=a("/MKj"),_=a("wd/R"),k=a.n(_),I=a("TSYQ"),z=a.n(I),Q=a("e9Pg"),D=a.n(Q),Y=a("l59Y"),q=a("SZkq"),R=a.n(q),j=a("ydnR"),M=a("jwRn");function K(e){var t=O();return function(){var a,n=C()(e);if(t){var r=C()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return w()(this,a)}}function O(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var P=S["a"].RangePicker,A=(n=Object(T["c"])(function(e){var t=e.loading,a=e.approvalList;return{loading:t.effects["approvalList/list"]||!1,list:a.list,query:a.query,total:a.total}}),n((i=function(e){v()(a,e);var t=K(a);function a(e){var n;return m()(this,a),n=t.call(this,e),n.onSearch=function(e){var t=n.props.query;n.setState({searchContent:e},function(){n.onQuery({pageNo:1,pageSize:t.pageSize})})},n.onQuery=function(e){var t=n.state,a=t.time,r=t.searchContent,i=t.current;a&&a.length>1&&Object.assign(e,{startTime:k()(a[0]).format("x"),endTime:k()(a[1]).format("x")}),Object.assign(e,{type:0,searchContent:r,detailType:i}),n.props.dispatch({type:"approvalList/list",payload:e}).then(function(){var e=n.props.total;0===Number(i)&&n.setState({totals:e})})},n.onChange=function(e){var t=e.current,a=e.pageSize;n.onQuery({pageNo:t,pageSize:a})},n.onChangeTime=function(e){var t=n.props.query;n.setState({time:e},function(){n.onQuery({pageNo:1,pageSize:t.pageSize})})},n.handle=function(e){var t=y()(n),a=n.props.query;Object(M["g"])(e,"\u5ba1\u6279\u8be6\u60c5",function(e){console.log("res",e),t.onQuery(u()({},a))},function(e){console.log("\u5173\u95ed\u7684",e),t.onQuery(u()({},a))})},n.handleClick=function(e){n.setState({current:e.key},function(){n.onQuery({pageNo:1,pageSize:10})})},n.state={current:"0",searchContent:"",time:[],totals:0},n}return h()(a,[{key:"componentDidMount",value:function(){var e=this.props.query;this.onQuery(u()({},e))}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading,n=t.query,r=t.total,i=t.list,s=this.state,u=s.current,p=s.totals,m=[{title:"\u4e8b\u7531",dataIndex:"reason",width:150,render:function(t,a){return x.a.createElement("span",null,x.a.createElement(Y["a"],{id:a.invoiceId,templateId:a.invoiceTemplateId,templateType:a.templateType,allow:"copy",onCallback:function(){return e.onPersonal()}},x.a.createElement(l["a"],{placement:"topLeft",title:a.reason||""},x.a.createElement("a",{className:"eslips-2",style:{cursor:"pointer"}},a.reason))))}},{title:"\u91d1\u989d(\u5143)",dataIndex:"sum",render:function(e){return x.a.createElement("span",null,e&&e/100)},className:"moneyCol",width:120},{title:"\u5355\u53f7",dataIndex:"invoiceNo",width:160},{title:"\u5355\u636e\u7c7b\u578b",dataIndex:"invoiceTemplateName",width:150},{title:"\u63d0\u4ea4\u4eba",dataIndex:"createName",width:100},{title:"\u63d0\u4ea4\u65f6\u95f4",dataIndex:"createTime",render:function(e,t){return x.a.createElement("span",null,t.createTime?k()(t.createTime).format("YYYY-MM-DD"):"-")},width:150},{title:"\u5355\u636e\u72b6\u6001",dataIndex:"statusStr",width:100,render:function(e,t){return x.a.createElement("span",null,t.statusMsg||Object(j["z"])(t.status,j["C"]))}}];return 0===Number(u)?m.splice(7,0,{title:"\u64cd\u4f5c",dataIndex:"operate",render:function(t,a){return x.a.createElement("a",{onClick:function(){return e.handle(a.url)}},"\u53bb\u5904\u7406")},fixed:"right",width:100}):1===Number(u)&&m.splice(7,0,{title:"\u5ba1\u6279\u65f6\u95f4",dataIndex:"resultTime",render:function(e,t){return x.a.createElement("span",null,t.resultTime?k()(t.resultTime).format("YYYY-MM-DD"):"-")},width:150}),x.a.createElement("div",{style:{minWidth:"1000px"}},x.a.createElement("div",{style:{background:"#fff",paddingTop:"16px"}},x.a.createElement("p",{className:"m-l-32 m-b-8 c-black-85 fs-20",style:{fontWeight:"bold"}},"\u5ba1\u6279"),x.a.createElement(c["a"],{onClick:this.handleClick,mode:"horizontal",selectedKeys:[u],className:"m-l-32 titleMenu"},x.a.createElement(c["a"].Item,{key:0},"\u5f85\u6211\u5ba1\u6279",x.a.createElement("span",{className:0!==Number(u)?z()(R.a.active,R.a.noActive):R.a.active},p)),x.a.createElement(c["a"].Item,{key:1},"\u6211\u5df2\u5ba1\u6279"),x.a.createElement(c["a"].Item,{key:2},"\u6284\u9001\u6211\u7684"))),x.a.createElement("div",{className:"content-dt",style:{padding:0,height:"auto"}},x.a.createElement("div",{className:R.a.payContent},x.a.createElement("div",{className:"cnt-header",style:{display:"flex"}},x.a.createElement("div",{className:"head_lf"},x.a.createElement("div",{className:R.a.search},x.a.createElement("span",{className:R.a.label},"\u63d0\u4ea4\u65f6\u95f4\uff1a"),x.a.createElement(P,{placeholder:"\u8bf7\u9009\u62e9",style:{width:"220px"},onChange:function(t){return e.onChangeTime(t)},showTime:{hideDisabledOptions:!0,defaultValue:[k()("00:00:00","HH:mm:ss"),k()("23:59:59","HH:mm:ss")]}})),x.a.createElement(D.a,{placeholder:"\u8bf7\u8f93\u5165\u5355\u53f7\u3001\u4e8b\u7531\u3001\u6536\u6b3e\u4eba",style:{width:"292px",marginLeft:"16px"},onSearch:function(t){return e.onSearch(t)}}))),x.a.createElement(o["a"],{columns:m,loading:a,dataSource:i,onChange:this.onChange,rowKey:"invoiceId",scroll:{x:1080},pagination:{total:r,current:n.pageNo,size:"small",showTotal:function(){return"\u5171".concat(r,"\u6761\u6570\u636e")},showSizeChanger:!0,showQuickJumper:!0}}))))}}]),a}(x.a.PureComponent),r=i))||r);t["default"]=A}}]);