(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[57],{gBRm:function(e,t,n){"use strict";n.r(t);var u=n("p0pE"),r=n.n(u),a=n("d6i3"),l=n.n(a),s=n("gWZ8"),i=n.n(s),o=n("t3Un"),c=n("ydnR"),p=n("6soU"),d=c["r"].PAGE_SIZE;t["default"]={namespace:"classifyS",state:{list:[],detailList:[],query:{pageNo:1,pageSize:d},total:0},effects:{list:l.a.mark(function e(t,n){var u,r,a,s,c,d,m,b,f;return l.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return u=t.payload,r=n.call,a=n.put,e.next=4,r(o["b"],p["default"].list,u);case 4:return s=e.sent,c=s&&s.length?s.reduce(function(e,t){return e+t.submitSumAll},0):0,d=s&&s.length?s.reduce(function(e,t){return e+t.submitSumAnnulusAll},0):0,m=d?Number((100*((c-d)/d).toFixed(2)).toFixed(0)):0,b=s&&s.length?s.reduce(function(e,t){return e+t.submitSumYearAll},0):0,f=b?Number((100*((c-b)/b).toFixed(2)).toFixed(0)):0,s.unshift({categoryName:"\u5408\u8ba1",id:-1,submitSum:c,submitSumAll:c,submitSumAnnulus:d,submitSumAnnulusAll:0,submitSumYear:b,submitSumYearAll:0,submitUserCount:s&&s.length?s.reduce(function(e,t){return e+t.submitUserCountAll},0):0,submitUserCountAll:s&&s.length?s.reduce(function(e,t){return e+t.submitUserCountAll},0):0,submitCount:s&&s.length?s.reduce(function(e,t){return e+t.submitCountAll},0):0,submitCountAll:s&&s.length?s.reduce(function(e,t){return e+t.submitCountAll},0):0,categoryCount:s&&s.length?s.reduce(function(e,t){return e+t.categoryCountAll},0):0,categoryCountAll:s&&s.length?s.reduce(function(e,t){return e+t.categoryCountAll},0):0,yearOnYear:Math.abs(f),annulus:Math.abs(m),yearOnYearSymbolType:0===b?null:f>0?0:1,annulusSymbolType:0===d?null:m>0?0:1,children:[],childrens:i()(s)}),console.log("*list -> response",s),e.next=14,a({type:"save",payload:{list:s||[]}});case 14:case"end":return e.stop()}},e)}),detailList:l.a.mark(function e(t,n){var u,r,a,s;return l.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return u=t.payload,r=n.call,a=n.put,e.next=4,r(o["b"],p["default"].detailList,u);case 4:return s=e.sent,console.log("*list -> response",s),e.next=8,a({type:"save",payload:{detailList:s.list||[],query:{pageNo:u.pageNo,pageSize:u.pageSize},total:s.page.total||0}});case 8:case"end":return e.stop()}},e)}),export:l.a.mark(function e(t,n){var u,r;return l.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return u=t.payload,r=n.call,Object.assign(u,{exportType:"export",fileName:"\u652f\u51fa\u7c7b\u522b\u652f\u51fa\u8868"}),e.next=5,r(o["b"],p["default"].export,u);case 5:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){var n=t.payload;return r()({},e,n)}}}}}]);