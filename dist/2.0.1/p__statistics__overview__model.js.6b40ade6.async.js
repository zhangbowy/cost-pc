(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[63],{"fr/H":function(e,t,u){"use strict";u.r(t);var n=u("p0pE"),r=u.n(n),l=(u("miYZ"),u("tsqr")),a=u("gWZ8"),s=u.n(a),o=u("d6i3"),i=u.n(o),c=u("t3Un"),p=u("ydnR"),m=u("zTto"),d=p["r"].PAGE_SIZE,b={0:{exportUrl:m["default"].exports,fileName:"\u652f\u51fa\u660e\u7ec6"},1:{exportUrl:m["default"].deptExport,fileName:"\u90e8\u95e8\u652f\u51fa"},2:{exportUrl:m["default"].classifyExport,fileName:"\u7c7b\u522b\u652f\u51fa"},3:{exportUrl:m["default"].projectExport,fileName:"\u9879\u76ee\u652f\u51fa"},4:{exportUrl:m["default"].peopleExport,fileName:"\u5458\u5de5\u652f\u51fa"},5:{exportUrl:m["default"].supplierExport,fileName:"\u4f9b\u5e94\u5546\u652f\u51fa"}};t["default"]={namespace:"overview",state:{list:[],total:0,sum:0,queryPage:{pageSize:d,pageNo:1},listQuery:{pageSize:d,pageNo:1},listTotal:0,pieChartVos:[],detailList:[],chartList:[]},effects:{detail:i.a.mark(function e(t,u){var n,r,l,a;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,r=u.call,l=u.put,e.next=4,r(c["b"],m["default"].detail,n);case 4:return a=e.sent,e.next=7,l({type:"save",payload:{list:a.list||[],queryPage:{pageSize:n.pageSize,pageNo:n.pageNo},total:a.page?a.page.total:0,sum:a.page?a.page.totalSum:0}});case 7:case"end":return e.stop()}},e)}),dept:i.a.mark(function e(t,u){var n,r,a,o,p,d,b,g,f,y,h;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,r=u.call,a=u.put,e.next=4,r(c["b"],m["default"].dept,n,{withCode:!0});case 4:return o=e.sent,console.log("*list -> response",o),p=[],d=!1,200===o.code?(p=o.result,p&&p.length>1&&(b=p&&p.length?p.reduce(function(e,t){return e+t.submitSumAll},0):0,g=p&&p.length?p.reduce(function(e,t){return e+t.submitSumAnnulusAll},0):0,f=g?Number((100*((b-g)/g).toFixed(2)).toFixed(0)):0,y=p&&p.length?p.reduce(function(e,t){return e+t.submitSumYearAll},0):0,h=y?Number((100*((b-y)/y).toFixed(2)).toFixed(0)):0,p.unshift({deptName:"\u5408\u8ba1",id:-1,submitSum:b,submitSumAll:b,submitSumAnnulus:g,submitSumAnnulusAll:0,submitSumYear:y,submitSumYearAll:0,submitUserCount:p&&p.length?p.reduce(function(e,t){return e+t.submitUserCountAll},0):0,submitUserCountAll:p&&p.length?p.reduce(function(e,t){return e+t.submitUserCountAll},0):0,submitCount:p&&p.length?p.reduce(function(e,t){return e+t.submitCountAll},0):0,submitCountAll:p&&p.length?p.reduce(function(e,t){return e+t.submitCountAll},0):0,categoryCount:p&&p.length?p.reduce(function(e,t){return e+t.categoryCountAll},0):0,categoryCountAll:p&&p.length?p.reduce(function(e,t){return e+t.categoryCountAll},0):0,yearOnYear:Math.abs(h),annulus:Math.abs(f),yearOnYearSymbolType:0===y?null:h>0?0:1,annulusSymbolType:0===g?null:f>0?0:1,children:[],childrens:s()(p)}))):90065===o.code?d=!0:l["a"].error(o.message),e.next=11,a({type:"save",payload:{list:p||[],isNoRole:d}});case 11:case"end":return e.stop()}},e)}),classify:i.a.mark(function e(t,u){var n,r,l,a,o,p,d,b,g;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,r=u.call,l=u.put,e.next=4,r(c["b"],m["default"].classify,n);case 4:return a=e.sent,o=a&&a.length?a.reduce(function(e,t){return e+t.submitSumAll},0):0,p=a&&a.length?a.reduce(function(e,t){return e+t.submitSumAnnulusAll},0):0,d=p?Number((100*((o-p)/p).toFixed(2)).toFixed(0)):0,b=a&&a.length?a.reduce(function(e,t){return e+t.submitSumYearAll},0):0,g=b?Number((100*((o-b)/b).toFixed(2)).toFixed(0)):0,a.unshift({categoryName:"\u5408\u8ba1",id:-1,submitSum:o,submitSumAll:o,submitSumAnnulus:p,submitSumAnnulusAll:0,submitSumYear:b,submitSumYearAll:0,submitUserCount:a&&a.length?a.reduce(function(e,t){return e+t.submitUserCountAll},0):0,submitUserCountAll:a&&a.length?a.reduce(function(e,t){return e+t.submitUserCountAll},0):0,submitCount:a&&a.length?a.reduce(function(e,t){return e+t.submitCountAll},0):0,submitCountAll:a&&a.length?a.reduce(function(e,t){return e+t.submitCountAll},0):0,categoryCount:a&&a.length?a.reduce(function(e,t){return e+t.categoryCountAll},0):0,categoryCountAll:a&&a.length?a.reduce(function(e,t){return e+t.categoryCountAll},0):0,yearOnYear:Math.abs(g),annulus:Math.abs(d),yearOnYearSymbolType:0===b?null:g>0?0:1,annulusSymbolType:0===p?null:d>0?0:1,children:[],childrens:s()(a)}),console.log("*list -> response",a),e.next=14,l({type:"save",payload:{list:a||[]}});case 14:case"end":return e.stop()}},e)}),project:i.a.mark(function e(t,u){var n,l,a,s;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,l=u.call,a=u.put,e.next=4,l(c["b"],m["default"].project,n);case 4:return s=e.sent,console.log("*list -> response",s),s.unshift({projectName:"\u5408\u8ba1",id:-1,submitSum:s&&s.length?s.reduce(function(e,t){return e+t.submitSumAll},0):0,submitSumAll:s&&s.length?s.reduce(function(e,t){return e+t.submitSumAll},0):0,submitSumAnnulus:s&&s.length?s.reduce(function(e,t){return e+t.submitSumAnnulusAll},0):0,submitSumAnnulusAll:s&&s.length?s.reduce(function(e,t){return e+t.submitSumAnnulusAll},0):0,submitSumYear:s&&s.length?s.reduce(function(e,t){return e+t.submitSumYearAll},0):0,submitSumYearAll:s&&s.length?s.reduce(function(e,t){return e+t.submitSumYearAll},0):0,submitUserCount:s&&s.length?s.reduce(function(e,t){return e+t.submitUserCountAll},0):0,submitUserCountAll:s&&s.length?s.reduce(function(e,t){return e+t.submitUserCountAll},0):0,submitCount:s&&s.length?s.reduce(function(e,t){return e+t.submitCountAll},0):0,submitCountAll:s&&s.length?s.reduce(function(e,t){return e+t.submitCountAll},0):0,categoryCount:s&&s.length?s.reduce(function(e,t){return e+t.categoryCountAll},0):0,categoryCountAll:s&&s.length?s.reduce(function(e,t){return e+t.categoryCountAll},0):0,yearOnYear:s&&s.length?s[0].yearOnYear:0,annulus:s&&s.length?s[0].annulus:0,yearOnYearSymbolType:s&&s.length?s[0].yearOnYearSymbolType:0,annulusSymbolType:s&&s.length?s[0].annulusSymbolType:0,children:[]}),e.next=9,a({type:"save",payload:{list:s.map(function(e){return r()({},e,{submitSum:e.submitSumAll})})||[]}});case 9:case"end":return e.stop()}},e)}),people:i.a.mark(function e(t,u){var n,r,l,a;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,r=u.call,l=u.put,e.next=4,r(c["b"],m["default"].people,n);case 4:return a=e.sent,console.log("*list -> response",a),e.next=8,l({type:"save",payload:{list:a.list||[],queryPage:{pageNo:n.pageNo,pageSize:n.pageSize},total:a.page.total||0}});case 8:case"end":return e.stop()}},e)}),supplier:i.a.mark(function e(t,u){var n,r,l,a;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,r=u.call,l=u.put,e.next=4,r(c["b"],m["default"].supplier,n);case 4:return a=e.sent,console.log("*list -> response",a),a.unshift({supplierName:"\u5408\u8ba1",id:-1,submitSum:a&&a.length?a.reduce(function(e,t){return e+t.submitSumAll},0):0,submitSumAll:a&&a.length?a.reduce(function(e,t){return e+t.submitSumAll},0):0,submitSumAnnulus:a&&a.length?a.reduce(function(e,t){return e+t.submitSumAnnulusAll},0):0,submitSumAnnulusAll:a&&a.length?a.reduce(function(e,t){return e+t.submitSumAnnulusAll},0):0,submitSumYear:a&&a.length?a.reduce(function(e,t){return e+t.submitSumYearAll},0):0,submitSumYearAll:a&&a.length?a.reduce(function(e,t){return e+t.submitSumYearAll},0):0,submitUserCount:a&&a.length?a.reduce(function(e,t){return e+t.submitUserCountAll},0):0,submitUserCountAll:a&&a.length?a.reduce(function(e,t){return e+t.submitUserCountAll},0):0,submitCount:a&&a.length?a.reduce(function(e,t){return e+t.submitCountAll},0):0,submitCountAll:a&&a.length?a.reduce(function(e,t){return e+t.submitCountAll},0):0,categoryCount:a&&a.length?a.reduce(function(e,t){return e+t.categoryCountAll},0):0,categoryCountAll:a&&a.length?a.reduce(function(e,t){return e+t.categoryCountAll},0):0,yearOnYear:a&&a.length?a[0].yearOnYear:0,annulus:a&&a.length?a[0].annulus:0,yearOnYearSymbolType:a&&a.length?a[0].yearOnYearSymbolType:0,annulusSymbolType:a&&a.length?a[0].annulusSymbolType:0,children:[]}),e.next=9,l({type:"save",payload:{list:a||[]}});case 9:case"end":return e.stop()}},e)}),deptDetail:i.a.mark(function e(t,u){var n,r,l,a,s;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=t.payload,r=u.call,l=u.put,a=m["default"].deptDetail,e.t0=Number(n.currentType),e.next=2===e.t0?6:3===e.t0?8:4===e.t0?10:5===e.t0?12:14;break;case 6:return a=m["default"].classifyDetail,e.abrupt("break",15);case 8:return a=m["default"].projectDetail,e.abrupt("break",15);case 10:return a=m["default"].peopleDetail,e.abrupt("break",15);case 12:return a=m["default"].supplierDetail,e.abrupt("break",15);case 14:return e.abrupt("break",15);case 15:return e.next=17,r(c["b"],a,n);case 17:return s=e.sent,e.next=20,l({type:"save",payload:{detailList:s.pageResult?s.pageResult.list:[],listTotal:s.submitSum||0,pieChartVos:s.pieChartVos||[],listQuery:{pageNo:n.pageNo,pageSize:n.pageSize,total:s.pageResult&&s.pageResult.page?s.pageResult.page.total:0}}});case 20:case"end":return e.stop()}},e)}),pageDetail:i.a.mark(function e(t,u){var n,r,l,a;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,r=u.call,l=u.put,e.next=4,r(c["b"],m["default"].deptDetail,n);case 4:return a=e.sent,console.log("*list -> response",a),e.next=8,l({type:"save",payload:{detailList:a.pageResult?a.pageResult.list:[],listQuery:{pageNo:n.pageNo,pageSize:n.pageSize,total:a.pageResult&&a.pageResult.page?a.pageResult.page.total:0}}});case 8:case"end":return e.stop()}},e)}),export:i.a.mark(function e(t,u){var n,r,l,a,s;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,r=u.call,l=b[n.currentType],a=l.exportUrl,s=l.fileName,Object.assign(n,{exportType:"export",fileName:s}),e.next=6,r(c["b"],a,n);case 6:case"end":return e.stop()}},e)}),chart:i.a.mark(function e(t,u){var n,r,l,a,s;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,r=u.call,l=u.put,a=m["default"].chart,"supplier"===n.chartTypes&&(a=m["default"].supplierChart,delete n.chartTypes),e.next=6,r(c["b"],a,n);case 6:return s=e.sent,console.log("*list -> response",s),e.next=10,l({type:"save",payload:{chartList:s||[]}});case 10:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){var u=t.payload;return r()({},e,u)}}}}}]);