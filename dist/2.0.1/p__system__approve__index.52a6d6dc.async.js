(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[77],{"U/Rb":function(e,t,n){"use strict";n.r(t);n("g9YV");var a,r,o,i,l=n("wCAj"),c=(n("+L6B"),n("2/Rp")),s=n("jehZ"),u=n.n(s),p=(n("/zsF"),n("PArb")),f=(n("P2fV"),n("NJEC")),d=(n("5Dmo"),n("3S7+")),m=(n("miYZ"),n("tsqr")),h=n("p0pE"),v=n.n(h),y=n("2Taf"),g=n.n(y),E=n("vZ4D"),k=n.n(E),x=n("MhPg"),b=n.n(x),w=n("l4Ni"),C=n.n(w),S=n("ujKo"),N=n.n(S),R=n("q1tI"),D=n.n(R),I=(n("17x9"),n("/MKj")),O=n("rP2T"),q=(n("2qtc"),n("kLXV")),z=(n("y8nQ"),n("Vl3Y")),Q=(n("5NDa"),n("5rEg")),j=n("ydnR");function A(e){var t=P();return function(){var n,a=N()(e);if(t){var r=N()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return C()(this,n)}}function P(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var V,L,F,J=Q["a"].TextArea,T=(a=z["a"].create(),r=Object(I["c"])(function(e){var t=e.loading;return{loading:t.effects["approveIndex/add"]||t.effects["approveIndex/edit"]||!1}}),a(o=r((i=function(e){b()(n,e);var t=A(n);function n(){var e;g()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),e.state={visible:!1},e.onShow=function(){e.setState({visible:!0})},e.onCancel=function(){e.props.form.resetFields(),e.setState({visible:!1})},e.handleOk=function(){var t=e.props,n=t.form,a=t.dispatch,r=t.onOk,o=t.loading,i=t.title,l=t.detail;o||n.validateFieldsAndScroll(function(t,n){t||("edit"===i&&Object.assign(n,{id:l.id}),a({type:"approveIndex/".concat(i),payload:v()({},n)}).then(function(){e.onCancel(),r()}))})},e}return k()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.form.getFieldDecorator,a=e.title,r=e.detail,o=e.loading,i=this.state.visible;return D.a.createElement("span",null,D.a.createElement("span",{onClick:this.onShow},t),D.a.createElement(q["a"],{title:"".concat(j["u"][a],"\u5ba1\u6279\u89d2\u8272"),width:"550px",footer:[D.a.createElement(c["a"],{key:"cancel",onClick:this.onCancel},"\u53d6\u6d88"),D.a.createElement(c["a"],{key:"save",onClick:this.handleOk,type:"primary",disabled:o},"\u4fdd\u5b58")],bodyStyle:{height:"350px",overflowY:"scroll"},onCancel:this.onCancel,visible:i},D.a.createElement(z["a"],null,D.a.createElement(z["a"].Item,u()({label:"\u89d2\u8272\u540d\u79f0"},j["x"]),n("approveRoleName",{initialValue:r.approveRoleName,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u89d2\u8272\u540d\u79f0"},{max:16,message:"\u89d2\u8272\u540d\u79f0\u4e0d\u80fd\u8d85\u8fc716\u4e2a\u5b57\uff0c\u8bf7\u4fee\u6539"}]})(D.a.createElement(Q["a"],{placeholder:"\u8bf7\u8f93\u5165\u89d2\u8272\u540d\u79f0"}))),D.a.createElement(z["a"].Item,u()({label:"\u63cf\u8ff0"},j["x"]),n("note",{initialValue:r.note,rules:[{max:128,message:"\u63cf\u8ff0\u4e0d\u80fd\u8d85\u8fc7128\u4e2a\u5b57\uff0c\u8bf7\u4fee\u6539"}]})(D.a.createElement(J,{placeholder:"\u8bf7\u8f93\u5165\u63cf\u8ff0\uff0c\u4e0d\u80fd\u8d85\u8fc7128\u4e2a\u5b57",max:128}))))))}}]),n}(R["Component"]),o=i))||o)||o),Y=T;function K(e){var t=M();return function(){var n,a=N()(e);if(t){var r=N()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return C()(this,n)}}function M(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var Z=(V=Object(I["c"])(function(e){var t=e.approveIndex,n=e.loading;return{loading:n.effects["approveIndex/list"]||!1,list:t.list,query:t.query,total:t.total}}),V((F=function(e){b()(n,e);var t=K(n);function n(){var e;g()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),e.state={visible:!1},e.onOk=function(){var t=e.props.query;e.onQuery(v()({},t))},e.onDelete=function(t){var n=e.props,a=n.query,r=n.dispatch;r({type:"approveIndex/del",payload:{id:t}}).then(function(){m["a"].success("\u5220\u9664\u6210\u529f"),e.onQuery(v()({},a))})},e.onLink=function(t){e.props.history.push("/system/approve/".concat(t))},e.onQuery=function(t){e.props.dispatch({type:"approveIndex/list",payload:t})},e}return k()(n,[{key:"componentDidMount",value:function(){this.onQuery({pageNo:1,pageSize:10})}},{key:"render",value:function(){var e=this,t=this.props,n=t.list,a=t.total,r=t.query,o=t.loading,i=this.state.visible,s=[{title:"\u89d2\u8272\u540d\u79f0",dataIndex:"approveRoleName"},{title:"\u89d2\u8272\u7b80\u4ecb",dataIndex:"note",width:560,render:function(e){return D.a.createElement("span",null,D.a.createElement(d["a"],{placement:"topLeft",title:e||""},D.a.createElement("span",{className:"eslips-2"},e)))}},{title:"\u64cd\u4f5c",dataIndex:"ope",render:function(t,n){return D.a.createElement("span",null,!n.isDefault&&D.a.createElement(f["a"],{title:"\u786e\u8ba4\u5220\u9664\u8be5\u89d2\u8272\u5417?",onConfirm:function(){return e.onDelete(n.id)}},D.a.createElement("span",{className:"deleteColor"},"\u5220\u9664")),!n.isDefault&&D.a.createElement(p["a"],{type:"vertical"}),D.a.createElement(Y,{title:"edit",isSupperAdmin:n.isDefault,onOk:e.onOk,detail:n,visible:i},n.isDefault?D.a.createElement("a",null,"\u67e5\u770b"):D.a.createElement("a",null,"\u7f16\u8f91")),D.a.createElement(p["a"],{type:"vertical"}),D.a.createElement("a",{onClick:function(){return e.onLink(n.id)}},"\u8bbe\u7f6e\u4eba\u5458"))},width:"190px",className:"fixCenter"}];return D.a.createElement("div",null,D.a.createElement(O["a"],u()({type:"role",content:{roleName:"\u5ba1\u6279\u89d2\u8272",note:"\u652f\u6301\u5c06\u591a\u4e2a\u76f8\u540c\u5ba1\u6279\u804c\u80fd\u7684\u4eba\u8bbe\u7f6e\u4e3a\u540c\u4e00\u4e2a\u89d2\u8272\uff0c\u7528\u4e8e\u5ba1\u6279\u6d41\u4e2d\u6309\u5bf9\u5e94\u7ba1\u7406\u6761\u4ef6\u5ba1\u6279"}},this.props)),D.a.createElement("div",{className:"content-dt"},D.a.createElement(Y,{title:"add",onOk:this.onOk,detail:{}},D.a.createElement(c["a"],{type:"primary",className:"m-b-16"},"\u65b0\u589e")),D.a.createElement(l["a"],{rowKey:"id",columns:s,dataSource:n,loading:o,pagination:{current:r.pageNo,total:a,showTotal:function(){return"\u5171".concat(a,"\u6761\u6570\u636e")},onChange:function(t){e.onQuery({pageNo:t,pageSize:r.pageSize})},size:"small",showSizeChanger:!0,showQuickJumper:!0,onShowSizeChange:function(t,n){e.onQuery({pageNo:t,pageSize:n})}}})))}}]),n}(R["Component"]),L=F))||L);t["default"]=Z}}]);