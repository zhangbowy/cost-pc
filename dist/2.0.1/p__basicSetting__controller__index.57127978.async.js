(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{"M+e7":function(e,a,t){e.exports={app_header:"app_header___3bq9Q",formItem:"formItem___2YkeZ"}},"a+7E":function(e,a,t){"use strict";t.r(a);t("/zsF");var n=t("PArb"),c=(t("+L6B"),t("2/Rp")),l=(t("5Dmo"),t("3S7+")),r=t("p0pE"),o=t.n(r),m=(t("2qtc"),t("kLXV")),s=(t("miYZ"),t("tsqr")),i=t("qIgq"),u=t.n(i),p=(t("OaEy"),t("2fM7")),f=t("q1tI"),d=t.n(f),y=t("/MKj"),E=t("wd/R"),b=t.n(E),h=t("jwRn"),I=t("WYR1"),v=t("M+e7"),k=t.n(v),g=t("ghf+");function N(e){var a=p["a"].Option,t=e.dispatch,r=e.userInfo,i=e.removeDataTime,y=e.synCompanyTime,E=e.queryUsers,v=Object(f["useState"])(!1),N=u()(v,2),w=N[0],O=N[1],Y=Object(f["useState"])([]),j=u()(Y,2),q=j[0],C=j[1],_=Object(f["useState"])(),D=u()(_,2),M=D[0],S=D[1],T=Object(f["useState"])(!1),z=u()(T,2),R=z[0],U=z[1],F=Object(f["useState"])(),G=u()(F,2),P=G[0],x=G[1];Object(f["useEffect"])(function(){t({type:"controller/getTime",payload:{companyId:r.companyId}}),t({type:"controller/queryUsers",payload:{companyId:r.companyId}})},[]);var B=function(){t({type:"controller/del",payload:{companyId:r.companyId}}).then(function(){s["a"].success("\u6e05\u7a7a\u6570\u636e\u6210\u529f")})};function J(e){x(e)}var L=function(){t({type:"controller/delCompany",payload:{companyId:r.companyId}}).then(function(){s["a"].success("\u6570\u636e\u540c\u6b65\u4e2d\u8bf7\u7a0d\u540e\u67e5\u770b\u4eba\u6570")})},V=function(){m["a"].confirm({title:"\u4e00\u952e\u6e05\u7a7a",content:"\u6e05\u7a7a\u6570\u636e\u540e\u4e0d\u53ef\u64a4\u9500",onOk:function(){B()}})},Z=function(){O(!0)},A=function(){C([]),S(""),x(""),O(!1)},K=function(){P?q.length?t({type:"controller/modifyGrant",payload:{userIdExpired:P,userVO:{userId:q[0].emplId,name:q[0].name}},callback:function(e){e.success?(s["a"].success(e.message),A()):s["a"].error(e.message)}}):s["a"].error("\u8bf7\u9009\u62e9\u4ea4\u63a5\u53d1\u653e\u4eba"):s["a"].error("\u8bf7\u9009\u62e9\u539f\u53d1\u653e\u4eba")},Q=function(){return E?E.map(function(e){return d.a.createElement(a,{value:e.id,key:e.id},d.a.createElement(g["a"],{avatar:e.avatar,name:e.name})," ".concat(e.name))}):""},W=function(){return q?q.map(function(e){return d.a.createElement(a,{value:e.emplId,key:e.emplId},d.a.createElement(g["a"],{avatar:e.avatar,name:e.name})," ".concat(e.name))}):d.a.createElement(a,null)},X=function(e){if(e&&e.length>0){var a=e.map(function(e){return o()({},e,{userId:e.emplId})});C(a),S(e[0].emplId)}},H=function(){U(!0),Object(h["a"])([],X,{multiple:!1}),U(!1)};return d.a.createElement("div",null,d.a.createElement("div",{className:k.a.app_header},d.a.createElement("p",{className:"c-black-85 fs-20 fw-600 m-b-8"},"\u63a7\u5236\u4e2d\u5fc3"),d.a.createElement("p",{className:"c-black-45 fs-14",style:{marginBottom:0}},"\u4f60\u53ef\u4ee5\u5728\u6b64\u8fdb\u884c\u5355\u636e\u6e05\u7a7a\u7684\u8bbe\u7f6e")),d.a.createElement("div",{className:"content-dt"},d.a.createElement(I["a"],{name:"\u5355\u636e\u6e05\u7a7a"},d.a.createElement(l["a"],{title:"\u6e05\u7a7a\u6240\u6709\u5355\u636e\uff0c\u652f\u51fa\u7c7b\u522b\u3001\u5355\u636e\u7b49\u57fa\u7840\u8bbe\u7f6e\u4e0d\u53d8"},d.a.createElement("i",{className:"iconfont iconIcon-yuangongshouce fs-14 c-black-45 m-l-8"})),d.a.createElement("span",{className:"fs-14 c-black-45 fw-400"},"\uff08\u6e05\u7a7a\u6570\u636e\u540e\u4e0d\u53ef\u64a4\u9500\uff0c\u8bf7\u8c28\u614e\u64cd\u4f5c\uff09")),d.a.createElement(c["a"],{className:"m-t-13 m-b-17",onClick:V},"\u4e00\u952e\u6e05\u7a7a"),d.a.createElement("p",{className:"fs-14 c-black-45 p-b-15"},"\u4e0a\u6b21\u65f6\u95f4\uff1a",i?b()(Number(i)).format("YYYY-MM-DD hh:mm:ss"):"\u65e0"),d.a.createElement(n["a"],{type:"horizontal"}),d.a.createElement(I["a"],{name:"\u4eba\u5458\u540c\u6b65"},d.a.createElement(l["a"],{title:"\u540c\u6b65\u65f6\u95f4\u53ef\u80fd\u4f1a\u8f83\u957f\uff0c\u8bf7\u7a0d\u540e\u5237\u65b0\u9875\u9762\u67e5\u770b\u540c\u6b65\u7ed3\u679c"},d.a.createElement("i",{className:"iconfont iconIcon-yuangongshouce fs-14 c-black-45 m-l-8"}))),d.a.createElement(c["a"],{className:"m-t-13 m-b-17",onClick:L},"\u540c\u6b65\u9489\u9489\u901a\u8baf\u5f55"),d.a.createElement("p",{className:"fs-14 c-black-45 p-b-15"},"\u4e0a\u6b21\u65f6\u95f4\uff1a",y?b()(Number(y)).format("YYYY-MM-DD hh:mm:ss"):"\u65e0"),d.a.createElement(n["a"],{type:"horizontal"}),d.a.createElement(I["a"],{name:"\u4fee\u6539\u53d1\u653e\u4eba"},d.a.createElement(l["a"],{title:"\u53d1\u653e\u4eba\u5458\u79bb\u804c\u65f6\u53ef\u4fee\u6539\u5df2\u63d0\u4ea4\u5355\u636e\u7684\u53d1\u653e\u4eba"},d.a.createElement("i",{className:"iconfont iconIcon-yuangongshouce fs-14 c-black-45 m-l-8"}))),d.a.createElement(c["a"],{className:"m-t-13 m-b-17",onClick:Z},"\u4fee\u6539\u53d1\u653e\u4eba")),d.a.createElement(m["a"],{title:"\u4fee\u6539\u53d1\u653e\u4eba",visible:w,onOk:K,onCancel:A},d.a.createElement("div",{className:k.a.formItem},d.a.createElement("label",null,"\u539f\u53d1\u653e\u4eba\uff1a"),d.a.createElement(p["a"],{showSearch:!0,style:{width:200},placeholder:"\u8bf7\u9009\u62e9",optionFilterProp:"children",size:"large",value:P,onChange:J},Q())),d.a.createElement("div",{className:k.a.formItem},d.a.createElement("label",null,"\u4ea4\u63a5\u53d1\u653e\u4eba\uff1a"),d.a.createElement("div",{style:{display:"inline-block"},onClick:H},d.a.createElement(p["a"],{style:{width:200},placeholder:"\u8bf7\u9009\u62e9",optionFilterProp:"children",size:"large",value:M,open:R},W())))))}var w=function(e){return{removeDataTime:e.controller.removeDataTime,userInfo:e.session.userInfo,synCompanyTime:e.controller.synCompanyTime,queryUsers:e.controller.queryUsers,modifyGrant:e.controller.modifyGrant}};a["default"]=Object(y["c"])(w)(N)}}]);