(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[85],{"2Z9H":function(e,t,a){e.exports=a.p+"static/banner2.10e9082a.png"},"2b9R":function(e,t,a){e.exports={slInLeft:"slInLeft___2y1R0",namePro:"namePro___3ryve",name:"name___1iBoL",active:"active___2wdDV",scroll:"scroll___H2neZ",slRight:"slRight___2atSi",tags:"tags___1Bt1t",scrollCont:"scrollCont___3kH3E"}},"2nRM":function(e,t,a){"use strict";a.r(t);a("g9YV");var n=a("wCAj"),r=(a("Pwec"),a("CtXQ")),l=(a("OaEy"),a("2fM7")),o=a("jehZ"),c=a.n(o),s=(a("/zsF"),a("PArb")),i=(a("P2fV"),a("NJEC")),m=(a("5Dmo"),a("3S7+")),u=a("d6i3"),p=a.n(u),d=a("1l/V"),f=a.n(d),h=a("eHn4"),y=a.n(h),g=a("p0pE"),v=a.n(g),E=a("2Taf"),b=a.n(E),S=a("vZ4D"),N=a.n(S),C=a("MhPg"),w=a.n(C),x=a("l4Ni"),_=a.n(x),k=a("ujKo"),T=a.n(k),A=(a("y8nQ"),a("Vl3Y")),I=a("q1tI"),R=a.n(I),D=a("/MKj"),O=a("wd/R"),L=a.n(O),Y=a("ydnR"),V=a("l59Y"),j=a("e9Pg"),F=a.n(j),P=a("2Z9H"),Q=a.n(P),M=a("syj9"),B=a.n(M);function H(){return R.a.createElement("div",{className:B.a.banner},R.a.createElement("img",{src:Q.a,alt:"\u5e7f\u544a"}))}var K=H,z=a("x34a"),q=a.n(z),U=(a("+L6B"),a("2/Rp")),G=a("TSYQ"),J=a.n(G),Z=a("ghf+"),W=(a("2qtc"),a("kLXV")),X=(a("Q9mQ"),a("diRs")),$=(a("+BJd"),a("mr32")),ee=(a("miYZ"),a("tsqr")),te=(a("17x9"),a("cn3z")),ae=a.n(te);function ne(e){var t=function(t){e.onSearch(t)},a=e.onSelect,r=e.onSelectAll,l=e.list,o=e.searchPro,c=e.loading,s=e.total,i=e.page,m=e.onQuery,u=e.searchContent,p=e.scroll,d={type:"checkbox",selectedRowKeys:e.selectedRowKeys,onSelect:a,onSelectAll:r};return R.a.createElement(R.a.Fragment,null,R.a.createElement("div",{className:"m-b-16"},e.btn,R.a.createElement(F.a,{placeholder:o,style:{width:"292px",marginRight:"20px"},onSearch:function(e){return t(e)}}),e.production),R.a.createElement("div",{className:ae.a.addCosts},R.a.createElement("div",{className:ae.a.addTable},R.a.createElement(n["a"],{columns:e.columns,rowSelection:d,dataSource:l,rowKey:"id",loading:c,scroll:p||{},pagination:{hideOnSinglePage:!0,current:i.pageNo,onChange:function(e){m({pageNo:e,pageSize:i.pageSize,searchContent:u})},total:s,size:"small",showTotal:function(){return"\u5171".concat(s,"\u6761\u6570\u636e")},showSizeChanger:!0,showQuickJumper:!0,onShowSizeChange:function(e,t){m({pageNo:e,pageSize:t,searchContent:u})}}}))))}var re,le,oe,ce=ne,se=a("uzU+"),ie=a("z0WU"),me=a("gWZ8"),ue=a.n(me),pe=a("2g+w"),de=a("04K3"),fe=a("2b9R"),he=a.n(fe),ye=a("RdHN"),ge=a("BZiS");function ve(e){var t=Ee();return function(){var a,n=T()(e);if(t){var r=T()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return _()(this,a)}}function Ee(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var be,Se,Ne,Ce=(re=Object(D["c"])(function(e){var t=e.global,a=e.costGlobal;return{currencyList:t.currencyList,queryTemplateIds:a.queryTemplateIds}}),re((oe=function(e){w()(a,e);var t=ve(a);function a(){var e;b()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),e.state={visible:!1,scrollCancel:!1,list:[],id:"often",selectCost:[],templateType:0,invoiceVisible:!1,invoiceId:""},e.onShow=f()(p.a.mark(function t(){var a,n,r;return p.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.props.dispatch({type:"global/getCurrency",payload:{}});case 2:if(a=e.props.selectInvoice,n=[],console.log("SelectInvoice -> onShow -> selectInvoice",a),!a){t.next=9;break}return r=a.map(function(e){return e.categoryId}),t.next=9,e.props.dispatch({type:"costGlobal/queryTemplateIds",payload:{costCategoryIds:r}});case 9:return t.next=11,e.props.dispatch({type:"global/oftenList",payload:{}}).then(function(){var t=e.props,r=t.useTemplate,l=t.oftenTemplate,o=t.currencyList,c=t.queryTemplateIds;console.log("SelectInvoice -> onShow -> queryTemplateIds",c);var s=r.map(function(e){var t=v()({},e);return a&&!c.includes(e.id)&&Object.assign(t,{disabled:!0}),t}),i=l.map(function(e){var t=v()({},e);return a&&!c.includes(e.id)&&Object.assign(t,{disabled:!0}),t}),m=s.filter(function(e){return 1===e.type&&0===e.parentId}),u=Object(pe["a"])({pId:"parentId",rootId:0,otherKeys:["note","type","parentId","createTime","templateType","disabled"]},s.filter(function(e){return!(1===e.type&&0===e.parentId)})).filter(function(e){var t=e.children,a=void 0===t?[]:t,n=e.type;return 1===n||a.length>0&&a.map(function(e){return 1===e.type}).length});u=[{id:"often",name:"\u5e38\u7528\u5355\u636e",children:i}].concat(ue()(u),[{id:"qita",name:"\u5176\u4ed6\u5355\u636e\u6a21\u677f\uff08\u672a\u5206\u7ec4\uff09",children:m}]),a&&a.forEach(function(e){var t={},a=[];e.currencyId&&"-1"!==e.currencyId&&(t=o.filter(function(t){return t.id===e.currencyId})[0]);var r=v()({},e,{key:e.id,folderType:"folder",costSum:t.id?e.currencySum/100:e.costSum/100,detailFolderId:e.id});e.costDetailShareVOS&&e.costDetailShareVOS.forEach(function(e){a.push(v()({},e,{shareAmount:t.id?e.currencySum/100:e.shareAmount/100}))}),n.push(v()({},r,{costDetailShareVOS:a,currencyId:e.currencyId||"-1",currencyName:t.name||"",exchangeRate:t.exchangeRate||1,currencySymbol:t.currencySymbol||"\xa5"}))}),e.setState({list:u,visible:!0,selectCost:n})});case 11:case"end":return t.stop()}},t)})),e.modalOk=function(t){e.setState({invoiceVisible:!0,invoiceId:t.id,templateType:t.templateType,visible:!1},function(){e.props.onCancel&&e.props.onCancel()})},e.scrollToAnchor=function(t){if(e.setState({id:t}),t){var a=document.getElementById(t);a&&a.scrollIntoView({block:"start",behavior:"smooth"})}},e.handleScroll=function(t){if(t&&t.children){var a=t.children.length-1,n=t.scrollTop+110,r=Array.prototype.findIndex.call(t.children,function(e){return e.offsetTop>n})-1,l=r<-1||-1===r?a:r,o=t.children[l];e.setState({id:o.dataset?o.dataset.id:"often"})}Object(de["debounce"])(function(){var a=e.state.scrollCancel;if(a)e.setState({scrollCancel:!1});else if(t&&t.children){var n=t.children.length-1,r=t.scrollTop+760,l=Array.prototype.findIndex.call(t.children,function(e){return e.offsetTop>r})-1,o=l<-1?n:l,c=t.children[o];e.setState({id:c.dataset?c.dataset.id:"often"})}},100,{maxWait:200})},e.onCancel=function(){e.props.onCancel&&e.props.onCancel(),e.setState({visible:!1})},e.onChangeVi=function(){e.setState({invoiceVisible:!1})},e}return N()(a,[{key:"componentDidUpdate",value:function(e){e.visible!==this.props.visible&&(this.setState({visible:this.props.visible}),this.props.visible&&this.onShow())}},{key:"render",value:function(){var e=this,t=this.state,a=t.list,n=t.visible,r=t.id,l=t.selectCost,o=t.invoiceVisible,c=t.templateType,s=t.invoiceId;return R.a.createElement("span",null,R.a.createElement("span",{onClick:function(){return e.onShow(!0)}},this.props.children),R.a.createElement(W["a"],{title:null,footer:null,onCancel:this.onCancel,visible:n,width:"780px",bodyStyle:{height:"500px",padding:"38px 40px 34px"}},R.a.createElement("p",{className:"fs-24 fw-500 m-b-24 c-black-85"},"\u9009\u62e9\u5355\u636e\u6a21\u677f"),R.a.createElement("div",{className:he.a.scrollCont},R.a.createElement("div",{className:he.a.slInLeft},R.a.createElement("p",{className:"c-black-25 fs-14"},"\u9009\u62e9\u5206\u7ec4"),R.a.createElement("div",{className:he.a.scroll},a.map(function(t){return R.a.createElement("p",{className:J()(he.a.namePro,"m-b-16"),key:t.id,onClick:function(){return e.scrollToAnchor(t.id)}},R.a.createElement("span",{className:r===t.id?J()(he.a.name,"c-black-85","fw-500"):J()(he.a.name,"c-black-65")},t.name),R.a.createElement("span",{className:"c-black-25"},t.children?t.children.length:0))}))),R.a.createElement("div",{className:he.a.slRight,ref:function(t){e.scroll=t},onScroll:function(t){var a=t.target;return e.handleScroll(a)}},a.map(function(t){var a=null;return t.children&&(a=t.children.map(function(t){return R.a.createElement(R.a.Fragment,null,t.disabled?R.a.createElement(m["a"],{title:"\u5df2\u9009\u7684\u652f\u51fa\u7c7b\u522b\u4e0d\u652f\u6301\u8be5\u5355\u636e\u6a21\u7248",placement:"bottom"},R.a.createElement("div",{className:he.a.tags,key:t.id,style:{background:"rgba(0,0,0,0.01)",border:"none",cursor:"not-allowed",boxShadow:"none"}},R.a.createElement("p",{className:"c-black-15 fs-14"},t.name),R.a.createElement("p",{className:"fs-12 c-black-15 eslips-1"},t.note))):R.a.createElement("div",{className:he.a.tags,key:t.id,onClick:function(){return e.modalOk(t)}},R.a.createElement("p",{className:"c-black-85 fs-14"},t.name),R.a.createElement("p",{className:"fs-12 c-black-36 eslips-1"},t.note)))})),R.a.createElement("div",{className:"m-b-20",key:t.id,id:t.id,"data-id":t.id,dataset:t},R.a.createElement("div",{style:{display:"flex",alignItems:"center"},className:"m-b-12"},R.a.createElement("p",{className:"c-black-85 fs-16 fw-500",style:{marginBottom:"0"}},t.name),R.a.createElement("span",{style:{marginLeft:"6px"}},0===t.type&&0===t.templateType&&R.a.createElement(ge["a"],{color:"rgba(38, 128, 242, 0.08)"},"\u62a5\u9500"),0===t.type&&1===t.templateType&&R.a.createElement(ge["a"],{color:"rgba(0, 199, 149, 0.08)"},"\u501f\u6b3e"),0===t.type&&2===t.templateType&&R.a.createElement(ge["a"],{color:"rgba(255, 159, 0, 0.08)"},"\u7533\u8bf7"))),R.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},a))}))),R.a.createElement(ye["a"],{templateType:c,visible:o,id:s,costSelect:l,onChangeVisible:function(){return e.onChangeVi()},onFolder:function(){e.setState({visible:!1}),e.props.onHandle&&e.props.onHandle()},onHandleOk:function(){e.props.onCallback&&e.props.onCallback()}})))}}]),a}(I["Component"]),le=oe))||le),we=function(e){return{useTemplate:e.global.UseTemplate,oftenTemplate:e.global.OftenTemplate}},xe=Object(D["c"])(we)(Ce);function _e(e){var t=ke();return function(){var a,n=T()(e);if(t){var r=T()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return _()(this,a)}}function ke(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var Te,Ae,Ie,Re=(be=Object(D["c"])(function(e){var t=e.costGlobal,a=e.loading;return{folderList:t.folderList,folderSum:t.folderSum,total:t.total,page:t.page,loading:a.effects["costGlobal/listFolder"]||!1}}),be((Ne=function(e){w()(a,e);var t=_e(a);function a(){var e;b()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),e.state={selectedRowKeys:[],selectedRows:[],visible:!1,searchContent:"",money:0,slVisible:!1},e.onShow=function(){e.props.dispatch({type:"costGlobal/listFolder",payload:{pageNo:1,pageSize:10}}).then(function(){e.setState({visible:!0})})},e.onCancel=function(){e.setState({selectedRowKeys:[],selectedRows:[],visible:!1})},e.onSelectAll=function(t,a,n){var r=ie["o"].onSelectAll(e.state,t,n),l=r.selectedRows,o=r.selectedRowKeys,c=l.reduce(function(e,t){return e+t.costSum/100},0);e.setState({selectedRows:l,selectedRowKeys:o,details:l,money:Number((1e3*c/10).toFixed(0))/100})},e.onSelect=function(t,a){var n=ie["o"].onSelect(e.state,t,a),r=n.selectedRows,l=n.selectedRowKeys,o=r.reduce(function(e,t){return e+t.costSum/100},0);e.setState({selectedRows:r,selectedRowKeys:l,details:r,money:Number((1e3*o/10).toFixed(0))/100})},e.onSearch=function(t){var a=e.props.page;e.setState({searchContent:t}),e.props.dispatch({type:"costGlobal/listFolder",payload:v()({},a,{searchContent:t})})},e.slInvoice=function(){e.setState({slVisible:!0})},e.onChangeVisible=function(){e.setState({slVisible:!1})},e.onDelete=function(t){var a=e.state.selectedRowKeys;t&&(a=[t]),a.length?e.props.dispatch({type:"costGlobal/delFolder",payload:{ids:a}}).then(function(){var a=e.props.page,n=e.state.searchContent;t||e.setState({selectedRowKeys:[],selectedRows:[]}),e.onQuery(v()({},a,{searchContent:n}))}):ee["a"].error("\u8bf7\u52fe\u9009\u8d39\u7528")},e.onQuery=function(t){e.props.dispatch({type:"costGlobal/listFolder",payload:t})},e}return N()(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.folderList,n=t.total,r=t.loading,l=t.page,o=t.folderSum,c=this.state,u=c.selectedRowKeys,p=c.selectedRows,d=c.visible,f=c.money,h=c.searchContent,y=c.slVisible,g=[{title:"\u652f\u51fa\u7c7b\u522b",dataIndex:"categoryName",render:function(e,t){return R.a.createElement("span",{className:ae.a.cateNames},R.a.createElement("i",{className:"iconfont icon".concat(t.icon),style:{color:Object(Y["y"])(t.icon,Y["m"]),fontSize:"24px",marginRight:"4px",verticalAlign:"middle"}}),R.a.createElement("span",{style:{verticalAlign:"middle"}},t.categoryName))},width:"280px"},{title:"\u91d1\u989d\uff08\u5143\uff09",dataIndex:"costSum",render:function(e,t){return R.a.createElement("span",null,R.a.createElement("span",{className:t.costDetailShareVOS&&t.costDetailShareVOS.length>0?"":"m-r-72"},t.currencySumStr?"".concat(t.costSumStr,"(").concat(t.currencySumStr,")"):t.costSumStr),t.costDetailShareVOS&&t.costDetailShareVOS.length>0&&R.a.createElement(X["a"],{content:R.a.createElement("div",{className:ae.a.share_cnt},R.a.createElement("p",{key:t.id,className:"c-black-85 fs-14 fw-500 m-b-8"},"\u5206\u644a\u660e\u7ec6\uff1a\u91d1\u989d \xa5",t.costSum/100,t.currencySumStr?"(".concat(t.currencySumStr,")"):""),t.costDetailShareVOS.map(function(e){return R.a.createElement("p",{key:e.id,className:"c-black-36 fs-13"},R.a.createElement("span",{className:"m-r-8"},e.userName?"".concat(e.userName,"/"):"",e.deptName),e.projectName&&R.a.createElement("span",{className:"m-r-8"},e.projectName),R.a.createElement("span",null,"\xa5",e.shareAmount/100,e.currencySumStr?"(".concat(e.currencySumStr,")"):""))}))},R.a.createElement($["a"],{className:"m-l-8",style:{marginRight:"0px"}},"\u5206\u644a\u660e\u7ec6")))},className:"moneyTagCol",width:"250px"},{title:"\u53d1\u751f\u65e5\u671f",dataIndex:"happenTime",render:function(e,t){return R.a.createElement("span",null,R.a.createElement("span",null,t.startTime?L()(Number(t.startTime)).format("YYYY-MM-DD"):"-"),R.a.createElement("span",null,t.endTime?"-".concat(L()(Number(t.endTime)).format("YYYY-MM-DD")):""))}},{title:"\u5907\u6ce8",dataIndex:"note",ellipsis:!0,width:"100px",render:function(e){return R.a.createElement(m["a"],{placement:"topLeft",title:e||""},R.a.createElement("span",null,e))}},{title:"\u56fe\u7247",dataIndex:"imgUrl",render:function(t,a){return R.a.createElement("span",{className:a.imgUrl&&a.imgUrl.length>0?ae.a.imgScroll:ae.a.imgUrlTable},a.imgUrl&&a.imgUrl.map(function(t,n){return R.a.createElement("div",{className:"m-r-8",onClick:function(){return e.previewImage(a.imgUrl,n)}},R.a.createElement("img",{alt:"\u56fe\u7247",src:t.imgUrl,className:ae.a.images}))}))},textWrap:"word-break",width:"140px"},{title:"\u64cd\u4f5c",dataIndex:"opea",render:function(t,a){return R.a.createElement("span",null,R.a.createElement(i["a"],{title:"\u786e\u8ba4\u5220\u9664\u5417\uff1f",onConfirm:function(){return e.onDelete(a.id)}},R.a.createElement("span",{className:"deleteColor"},"\u5220\u9664")),R.a.createElement(s["a"],{type:"vertical"}),R.a.createElement(se["a"],{costType:1,id:a.id,costTitle:"edit",onCallback:function(){e.setState({selectedRowKeys:[],selectedRows:[]}),e.onQuery(v()({searchContent:h},l)),e.props.onPerson()},isDelete4Category:a.isDelete4Category},R.a.createElement("a",null,"\u7f16\u8f91")))},className:"fixCenter",fixed:"right"}];return R.a.createElement("div",null,R.a.createElement("div",{onClick:function(){return e.onShow()}},this.props.children),R.a.createElement(W["a"],{title:"\u8d26\u672c",visible:d,onCancel:function(){return e.onCancel()},width:"980px",bodyStyle:{height:"470px",overflowY:"scroll"},footer:R.a.createElement(R.a.Fragment,null,u.length?R.a.createElement("div",{key:"dull",className:ae.a.costMoney},R.a.createElement("div",null),R.a.createElement("div",null,R.a.createElement("span",{className:"fs-15 c-black-85 m-r-8"},"\u5df2\u9009",u.length,"\u7b14 \u5408\u8ba1\xa5",R.a.createElement("span",{className:"fs-20 fw-500"},f)),R.a.createElement(U["a"],{type:"primary",onClick:function(){return e.slInvoice()}},"\u751f\u6210\u5355\u636e"))):R.a.createElement(U["a"],{type:"default",key:"cen",onClick:this.onCancel},"\u53d6\u6d88"))},R.a.createElement(ce,{list:a,columns:g,selectedRowKeys:u,selectedRows:p,onSelect:this.onSelect,onSelectAll:this.onSelectAll,onSearch:this.onSearch,searchPro:"\u8bf7\u8f93\u5165\u652f\u51fa\u7c7b\u522b\u540d\u79f0\u641c\u7d22",total:n,loading:r,onQuery:this.onQuery,searchContent:h,scroll:{x:"1200px"},page:l,btn:R.a.createElement(R.a.Fragment,null,R.a.createElement(se["a"],{costType:1,onCallback:function(){e.onQuery({searchContent:h,pageNo:1,pageSize:10}),e.props.onPerson()},againCost:!0},R.a.createElement(U["a"],{type:"default",className:"m-r-8"},"\u8bb0\u4e00\u7b14")),R.a.createElement(U["a"],{type:"default",onClick:function(){return e.onDelete()},className:"m-r-8"},"\u6279\u91cf\u5220\u9664")),production:R.a.createElement("span",null,"\u8d26\u672c\u5171\u8ba1",o.totalCount?o.totalCount:0,"\u7b14\uff0c",o.costSumStr?o.costSumStr:0)}),R.a.createElement(xe,{selectInvoice:p,onHandle:function(){return e.onCancel()},onOk:this.props.onPerson,onCloseInvoice:function(){return e.onCancel()},visible:y,onCancel:function(){return e.onChangeVisible()},onCallback:function(){e.setState({selectedRows:[],selectedRowKeys:[]}),e.onQuery(v()({searchContent:h},l)),e.props.onPerson()}})))}}]),a}(I["Component"]),Se=Ne))||Se),De=Re;function Oe(e){var t=Le();return function(){var a,n=T()(e);if(t){var r=T()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return _()(this,a)}}function Le(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var Ye,Ve,je,Fe,Pe=(Te=Object(D["c"])(function(e){var t=e.costGlobal,a=e.loading;return{draftList:t.draftList,total:t.total,page:t.page,draftTotal:t.draftTotal,loading:a.effects["costGlobal/listDraft"]||!1}}),Te((Ie=function(e){w()(a,e);var t=Oe(a);function a(){var e;b()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),e.state={selectedRowKeys:[],selectedRows:[],visible:!1,searchContent:"",money:0},e.onShow=function(){e.props.dispatch({type:"costGlobal/listDraft",payload:{pageNo:1,pageSize:10}}).then(function(){e.setState({visible:!0})})},e.onCancel=function(){e.setState({selectedRowKeys:[],selectedRows:[],visible:!1})},e.onSelectAll=function(t,a,n){var r=ie["o"].onSelectAll(e.state,t,n),l=r.selectedRows,o=r.selectedRowKeys,c=l.reduce(function(e,t){return e+t.costSum/100},0);e.setState({selectedRows:l,selectedRowKeys:o,details:l,money:c})},e.onSelect=function(t,a){var n=ie["o"].onSelect(e.state,t,a),r=n.selectedRows,l=n.selectedRowKeys,o=r.reduce(function(e,t){return e+t.costSum/100},0);e.setState({selectedRows:r,selectedRowKeys:l,details:r,money:o})},e.onSearch=function(t){var a=e.props.page;e.setState({searchContent:t}),e.props.dispatch({type:"costGlobal/listDraft",payload:v()({},a,{searchContent:t})})},e.onDelete=function(t){var a=e.state.selectedRowKeys;t&&(a=[t]),a.length?e.props.dispatch({type:"costGlobal/delDraft",payload:{ids:a}}).then(function(){var t=e.props.page,a=e.state.searchContent;e.onQuery(v()({},t,{searchContent:a}))}):ee["a"].error("\u8bf7\u52fe\u9009\u8349\u7a3f")},e.onQuery=function(t){e.props.dispatch({type:"costGlobal/listDraft",payload:t})},e}return N()(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.draftList,n=t.total,r=t.loading,l=t.page,o=t.draftTotal;console.log("Draft -> render -> page",l);var c=this.state,m=c.selectedRowKeys,u=c.selectedRows,p=c.visible,d=c.searchContent,f=[{title:"\u5e8f\u53f7",dataIndex:"index",render:function(e,t,a){return R.a.createElement("span",null,a+1)}},{title:"\u4e8b\u7531",dataIndex:"reason",render:function(e,t){return R.a.createElement("span",null,t.reason)}},{title:"\u91d1\u989d\uff08\u5143\uff09",dataIndex:"costSum",render:function(e,t){return R.a.createElement("span",null,R.a.createElement("span",null,t.costSum?t.costSum/100:0))},className:"moneyCol",width:"250px"},{title:"\u5355\u636e\u7c7b\u578b",dataIndex:"invoiceTemplateName",render:function(e,t){return R.a.createElement("span",null,t.invoiceTemplateName)}},{title:"\u63d0\u4ea4\u65f6\u95f4",dataIndex:"createTime",render:function(e,t){return R.a.createElement("span",null,R.a.createElement("span",null,t.createTime?L()(Number(t.createTime)).format("YYYY-MM-DD"):"-"))}},{title:"\u64cd\u4f5c",dataIndex:"opea",render:function(t,a){return R.a.createElement("span",null,R.a.createElement(i["a"],{title:"\u786e\u8ba4\u5220\u9664\u5417\uff1f",onConfirm:function(){return e.onDelete(a.id)}},R.a.createElement("span",{className:"deleteColor"},"\u5220\u9664")),R.a.createElement(s["a"],{type:"vertical"}),R.a.createElement(ye["a"],{templateType:a.templateType,id:a.invoiceTemplateId,contentJson:a.contentJson,isTemplateUsed:a.isTemplateUsed,onHandleOk:function(){e.onQuery({pageNo:1,pageSize:10,searchContent:d}),e.props.onPerson&&e.props.onPerson()},draftId:a.id,isTemplateDel:a.isTemplateDel},R.a.createElement("a",null,"\u7f16\u8f91")))},className:"fixCenter"}];return R.a.createElement("div",null,R.a.createElement("div",{onClick:function(){return e.onShow()}},this.props.children),R.a.createElement(W["a"],{title:"\u8349\u7a3f\u7bb1",visible:p,onCancel:function(){return e.onCancel()},width:"980px",bodyStyle:{height:"470px",overflowY:"scroll"},footer:R.a.createElement(R.a.Fragment,null,R.a.createElement(U["a"],{type:"default",key:"cen",onClick:this.onCancel},"\u53d6\u6d88"))},R.a.createElement(ce,{list:a,columns:f,selectedRowKeys:m,selectedRows:u,onSelect:this.onSelect,onSelectAll:this.onSelectAll,onSearch:this.onSearch,searchPro:"\u8bf7\u8f93\u5165\u4e8b\u7531\u3001\u6536\u6b3e\u8d26\u6237",total:n,loading:r,onQuery:this.onQuery,searchContent:d,page:l,btn:R.a.createElement(R.a.Fragment,null,R.a.createElement(U["a"],{type:"default",onClick:function(){return e.onDelete()},className:"m-r-8"},"\u6279\u91cf\u5220\u9664")),production:R.a.createElement("span",null,"\u8349\u7a3f\u7bb1\u5171\u8ba1",o.count?o.count:0,"\u5355\uff0c \xa5",o.totalSum?o.totalSum/100:0)})))}}]),a}(I["Component"]),Ae=Ie))||Ae),Qe=Pe;function Me(e){var t=Be();return function(){var a,n=T()(e);if(t){var r=T()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return _()(this,a)}}function Be(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var He=(Ye=Object(D["c"])(function(e){var t=e.costGlobal;return{loanList:t.loanList,waitLoanSumAll:t.waitLoanSumAll}}),Ve=A["a"].create(),Ye(je=Ve((Fe=function(e){w()(a,e);var t=Me(a);function a(e){var n;return b()(this,a),n=t.call(this,e),n.onShow=f()(p.a.mark(function e(){return p.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n.props.dispatch({type:"costGlobal/loanList",payload:{pageNo:1,pageSize:1e3}}).then(function(){console.log(n.props.waitList);var e=n.props.list;console.log("list",e),n.setState({visible:!0})});case 1:case"end":return e.stop()}},e)})),n.onCancel=function(){n.props.form.resetFields(),n.setState({visible:!1})},n.onSearch=function(e){n.props.dispatch({type:"costGlobal/loanList",payload:{pageSize:100,pageNo:1,searchContent:e}})},n.onQuery=function(e){n.props.dispatch({type:"costGlobal/loanList",payload:e})},n.state={visible:!1},n}return N()(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.children,r=t.loanList,l=t.waitLoanSumAll,o=this.state.visible,c=[{title:"\u4e8b\u7531",dataIndex:"reason",render:function(e,t){return R.a.createElement("span",null,R.a.createElement(V["a"],{templateType:1,id:t.loanId},R.a.createElement(m["a"],{placement:"topLeft",title:t.reason||""},R.a.createElement("span",{className:"eslips-2 ope-btn",style:{cursor:"pointer"}},t.reason))))},fixed:"left"},{title:"\u501f\u6b3e\u91d1\u989d\uff08\u5143\uff09",dataIndex:"loanSum",className:"moneyCol",render:function(e){return R.a.createElement("span",null,e?e/100:0)}},{title:"\u5f85\u6838\u9500\u91d1\u989d\uff08\u5143\uff09",dataIndex:"waitAssessSum",className:"moneyCol",render:function(e){return R.a.createElement("span",null,e?e/100:0)}},{title:"\u6838\u9500\u4e2d\u91d1\u989d",dataIndex:"freezeSum",render:function(e){return R.a.createElement("span",null,e?e/100:0)}},{title:"\u5355\u53f7",dataIndex:"invoiceNo"},{title:"\u63d0\u4ea4\u65f6\u95f4",dataIndex:"createTime",render:function(e){return R.a.createElement("span",null,e?L()(e).format("YYYY-MM-DD"):"")}},{title:"\u9884\u8ba1\u8fd8\u6b3e\u65e5\u671f",dataIndex:"repaymentTime",render:function(e){return R.a.createElement("span",null,e?L()(e).format("YYYY-MM-DD"):"")}}];return R.a.createElement("span",{className:J()("formItem",ae.a.addCost)},R.a.createElement("span",{onClick:function(){return e.onShow()}},a),R.a.createElement(W["a"],{title:"\u5f85\u8fd8\u6b3e\u5355\u636e",visible:o,width:"880px",bodyStyle:{height:"470px",overflowY:"scroll"},onCancel:this.onCancel,maskClosable:!1,footer:R.a.createElement(R.a.Fragment,null,R.a.createElement(U["a"],{type:"default",key:"cen",onClick:this.onCancel},"\u53d6\u6d88"))},R.a.createElement("div",{className:"m-b-16"},R.a.createElement(F.a,{placeholder:"\u8bf7\u8f93\u5165\u5355\u53f7\u3001\u4e8b\u7531\u3001\u6536\u6b3e\u8d26\u6237",style:{width:"292px",marginRight:"20px"},onSearch:function(t){return e.onSearch(t)}}),"\u5f85\u6838\u9500\u5171\u8ba1\xa5",l.waitAssessSumAll?l.waitAssessSumAll/100:0,"\uff0c \u501f\u6b3e\u5171\u8ba1\xa5",l.loanSumAll?l.loanSumAll/100:0),R.a.createElement("div",{className:ae.a.addCosts},R.a.createElement("div",{className:ae.a.addTable},R.a.createElement(n["a"],{columns:c,dataSource:r,pagination:!1,rowKey:"id",scroll:{x:"1100px"}})))))}}]),a}(I["Component"]),je=Fe))||je)||je),Ke=He;function ze(e){var t=e.personal,a=e.isBoss;return R.a.createElement("div",{className:a?J()(B.a.header,B.a.bossHeader):B.a.header},R.a.createElement("section",{className:B.a["wave-container"],style:{background:"#F6F9FB"}},R.a.createElement("svg",{id:"svg-area"},R.a.createElement("path",null),R.a.createElement("path",null),R.a.createElement("path",null))),R.a.createElement("div",{className:B.a.headerLeft},R.a.createElement(Z["a"],{avatar:e.userInfo&&e.userInfo.avatar,name:e.userInfo&&e.userInfo.name,size:72}),R.a.createElement("p",{className:"m-l-24"},R.a.createElement("p",{className:"c-black-85 fs-20 fw-600 li-28 m-b-12"},"\u4f60\u597d\uff0c",e.userInfo&&e.userInfo.name,"\uff01"),R.a.createElement("p",{className:"c-black-85 fs-14 li-22"},"WELCOME \u6b22\u8fce\u4f7f\u7528\u946b\u652f\u51fa"))),R.a.createElement("div",{className:B.a.headerRight},R.a.createElement(Ke,null,R.a.createElement("div",{className:J()(B.a.headTag,B.a.hdLoan)},R.a.createElement("p",null,R.a.createElement("i",{className:J()(B.a.loan,"iconfont","icondaihuankuan")}),R.a.createElement("span",{className:"c-black-45 fs-14 m-l-4"},"\u5f85\u8fd8\u6b3e ",R.a.createElement("span",{className:B.a.loan},t.loanCount?t.loanCount:0),"\u5355")),!a&&R.a.createElement("p",{className:"c-black-85 fs-30 fw-400"},"\xa5",t.loanSum?t.loanSum/100:0))),R.a.createElement("i",{className:B.a.lines}),R.a.createElement(De,{onPerson:function(){return e.onOk()}},R.a.createElement("div",{className:J()(B.a.headTag,B.a.hdLoan)},R.a.createElement("p",null,R.a.createElement("i",{className:J()(B.a.cost,"iconfont","iconfeiyongjia")}),R.a.createElement("span",{className:"c-black-45 fs-14 m-l-4"},"\u8d26\u672c ",R.a.createElement("span",{className:"c-black-85 fs-14"},t.folderCount?t.folderCount:0),"\u7b14")),!a&&R.a.createElement("p",{className:"c-black-85 fs-30 fw-400"},"\xa5",t.folderSum?t.folderSum/100:0))),R.a.createElement("i",{className:B.a.lines}),R.a.createElement(Qe,{onPerson:function(){return e.onOk()}},R.a.createElement("div",{className:J()(B.a.headTag,B.a.hdLoan)},R.a.createElement("p",null,R.a.createElement("i",{className:J()(B.a.caogao,"iconfont","iconcaogaoxiang")}),R.a.createElement("span",{className:"c-black-45 fs-14 m-l-4"},"\u8349\u7a3f\u7bb1\xa0",a?R.a.createElement(R.a.Fragment,null,R.a.createElement("span",{className:B.a.loan},t.draftCount?t.draftCount:0),"\u7b14"):null)),!a&&R.a.createElement("p",{className:"c-black-85 fs-30 fw-400"},t.draftCount?t.draftCount:0,R.a.createElement("span",{className:"fs-14 c-black-45 m-l-4"},"\u5355"))))),a&&R.a.createElement("div",{className:B.a.btns},R.a.createElement(xe,{onOk:e.onOk,onCallback:function(){return e.onOk()}},R.a.createElement(U["a"],{type:"primary",className:"m-r-8",style:{width:"140px",height:"40px"}},R.a.createElement("i",{className:"iconfont iconPCxinzengdanju fs-20",style:{verticalAlign:"middle"}}),R.a.createElement("span",{className:"m-l-8 fs-16 m-r-10",style:{verticalAlign:"middle"}},"\u63d0\u5355\u636e"))),R.a.createElement(se["a"],{costType:1,onCallback:function(){return e.onOk()},againCost:!0},R.a.createElement(U["a"],{type:"primary",ghost:!0,style:{width:"140px",height:"40px",verticalAlign:"center"}},R.a.createElement("i",{className:"iconfont iconjiyibi fs-20 sub-color",style:{verticalAlign:"middle"}}),R.a.createElement("span",{className:"m-l-4 sub-color fs-16 m-r-10",style:{verticalAlign:"middle"}},"\u8bb0\u4e00\u7b14")))))}var qe=function(e){return{userInfo:e.session.userInfo}},Ue=Object(D["c"])(qe)(ze);function Ge(e){var t=e.OftenTemplate;return R.a.createElement("div",{className:B.a.headLeftC},R.a.createElement("div",{className:B.a.btns},R.a.createElement(xe,{onOk:e.onOk,onCallback:function(){return e.onOk()}},R.a.createElement(U["a"],{type:"primary",className:"m-r-8",style:{width:"140px",height:"40px"}},R.a.createElement("i",{className:"iconfont iconPCxinzengdanju fs-20",style:{verticalAlign:"middle"}}),R.a.createElement("span",{className:"m-l-8 fs-16 m-r-10",style:{verticalAlign:"middle"}},"\u63d0\u5355\u636e"))),R.a.createElement(se["a"],{costType:1,onCallback:function(){return e.onOk()},againCost:!0},R.a.createElement(U["a"],{type:"primary",ghost:!0,style:{width:"140px",height:"40px",verticalAlign:"center"}},R.a.createElement("i",{className:"iconfont iconjiyibi fs-20 sub-color",style:{verticalAlign:"middle"}}),R.a.createElement("span",{className:"m-l-4 sub-color fs-16 m-r-10",style:{verticalAlign:"middle"}},"\u8bb0\u4e00\u7b14")))),R.a.createElement("p",{className:"fs-12 c-black-25 m-b-6"},"\u5e38\u7528\u5355\u636e"),R.a.createElement("div",{style:{display:"flex",minWidth:"368px",overflow:"hidden"},className:"addWidth"},t.map(function(t){return R.a.createElement(ye["a"],{key:t.id,id:t.id,templateType:t.templateType,onHandleOk:e.onOk},R.a.createElement("div",{className:B.a.tags,key:t.id},R.a.createElement("span",{className:B.a.iconfonts},R.a.createElement("i",{className:"iconfont iconorder_fill"})),R.a.createElement("span",{className:"m-l-8 eslips-1",style:{flex:1,display:"inline-block"}},t.name)))})))}var Je=Ge,Ze=a("YhzF"),We={init:function(){var e=["rgba(0,199,193,0.05)","rgba(0,199,193,0.12)","rgba(0,199,160,0.24)"],t="100%",a="100%",n=1200,r=180,l=150,o=.5,c=1,s=.5,i=.8*-n,m=0,u=[0,i,2*i],p=["","",""],d=document.querySelector("#svg-area"),f=d?d.querySelectorAll("path"):"",h=f[0],y=f[1],g=f[2];E();var v=window.onresize;function E(r){p=["","",""],d.setAttribute("width",t),d.setAttribute("height",a);var l="100%"===t?d.parentNode.clientWidth:t;m=Math.ceil(l/n/2)+3,!0!==r&&(h.setAttribute("fill",e[0]),y.setAttribute("fill",e[1]),g.setAttribute("fill",e[2]))}function b(){h.setAttribute("d",S(0)),y.setAttribute("d",S(1)),g.setAttribute("d",S(2)),u[0]-=o/2,u[1]-=(o+c)/2,u[2]-=(o+2*c)/2,requestAnimationFrame(b)}function S(e){u[e]%(2*n)===0&&(u[e]=0);var t=u[e],a=r,o=[t,a].join(",");if(""===p[e]){var c=n/4*(s+1),i=-r/2,d=-r/2,f=n-c,h=n,y=0,g=[c,i,f,d,h,y].join(" ");i=d=r/2;for(var v=[c,i,f,d,h,y].join(" "),E="",b=0;b<m;b++)E="".concat(E,"c").concat(g,"c").concat(v);var S="l0,".concat(l," l-").concat(m*n*2,",0Z");p[e]=[E,S].join("")}return["M",o,p[e]].join("")}window.onresize=function(){v&&v(),E(!0)},requestAnimationFrame(b)}},Xe=We,$e=(a("T2oS"),a("W9HT")),et=(a("7Kak"),a("9yH6")),tt=a("jQMc"),at=a.n(tt),nt=a("cVA7"),rt=a.n(nt),lt=[{key:"appDeptStatisticReturnVo",value:"\u90e8\u95e8\u652f\u51fa"},{key:"appCategoryStatisticReturnVo",value:"\u7c7b\u522b\u652f\u51fa"},{key:"appProjectStatisticReturnVo",value:"\u9879\u76ee\u652f\u51fa"}];function ot(e){var t=e.data,a=e.total,n=e.current,r=e.title,l={title:{zlevel:0,text:["{name|".concat(r,"\u652f\u51fa\u5408\u8ba1}"),"{value|\uffe5".concat(a/100,"}")].join("\n"),rich:{value:{color:"rgba(0,0,0,0.85)",fontSize:18,lineHeight:32,fontFamily:"Helvetica, sans-serif, Arial"},name:{color:"rgba(0,0,0,0.45)",lineHeight:22,fontSize:14}},top:"center",left:"22%",textAlign:"center",textStyle:{rich:{value:{color:"rgba(0,0,0,0.85)",fontSize:24,lineHeight:32,fontFamily:"Helvetica, sans-serif, Arial"},name:{color:"rgba(0,0,0,0.45)",lineHeight:22,fontSize:14}}}},tooltip:{trigger:"item",backgroundColor:"#fff",padding:0,formatter:function(e){return console.log(e),"<div class=".concat(at.a.tooltip,">\n            <div class=").concat(at.a.tooltipTit,">").concat(e.seriesName,"</div>\n            <div style='line-height: 20px;'>\n              <span class=").concat(at.a.tooltipBall," style='background:").concat(e.color,"' ></span>\n              <span class=").concat(at.a.tooltipCont,">").concat(e.name,"\uff1a").concat(e.value,"\u5143(").concat(e.percent,"%)</span>\n            </div>\n          </div>")}},legend:{left:"42%",top:"center",bottom:"16",orient:"vertical",icon:"circle",formatter:function(e){for(var a={},n=0,r=t.length;n<r;n++)t[n].dimensionName===e&&(a=t[n]);var l=["{a|".concat(e.length>9?"".concat(e.slice(0,8),"..."):e,"}"),"{b|\uff5c".concat(a.proportionStr,"}"),"{c|\xa5".concat(a.costSum/100,"}")];return l.join("")},itemWidth:6,itemHeight:6,textStyle:{rich:{a:{fontSize:12,align:"left",color:"rgba(0,0,0,0.65)",width:104,lineHeight:22},b:{fontSize:12,align:"left",color:"rgba(0,0,0,0.45)",width:68},c:{fontSize:12,align:"left",color:"rgba(0,0,0,0.65)",fontFamily:"Helvetica Neue"}}}},color:Y["s"],series:[{name:lt[n].value,type:"pie",radius:["43%","55%"],center:["23%","50%"],avoidLabelOverlap:!0,minAngle:10,stillShowZeroSum:!1,zlevel:1,itemStyle:{normal:{borderColor:"#fff",borderWidth:1===t.length?0:5}},label:{show:!1,position:"center"},labelLine:{show:!1},data:t.map(function(e){return{value:e.costSum/100,name:e.dimensionName}})}]};return R.a.createElement("div",{className:at.a.chart},t.length?R.a.createElement(rt.a,{style:{height:"323px",width:"100%"},className:"echarts-for-echarts",notMerge:!0,lazyUpdate:!0,option:l}):R.a.createElement("div",{className:at.a.noData},R.a.createElement("div",{className:at.a.noDataChild},R.a.createElement("p",{className:"fs-14 c-black-45"},"\u6682\u65e0",lt[n].value),R.a.createElement("p",{className:"fs-24 c-black-85"},"\xa50.00"))))}var ct=ot;function st(e){var t=it();return function(){var a,n=T()(e);if(t){var r=T()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return _()(this,a)}}function it(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var mt,ut,pt,dt=[{key:"0",data:"appDeptStatisticReturnVo",value:"\u90e8\u95e8",linkKey:"1"},{key:"1",data:"appCategoryStatisticReturnVo",value:"\u7c7b\u522b",linkKey:"2"},{key:"2",data:"appProjectStatisticReturnVo",value:"\u9879\u76ee",linkKey:"3"}],ft=function(e){w()(a,e);var t=st(a);function a(){var e;b()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),e.state={current:"0",data:[]},e.onChange=function(t){console.log(t),e.setState({current:t.target.value})},e.onLink=function(){var t=e.state.current;localStorage.removeItem("linkType"),localStorage.setItem("linkType",dt[t].linkKey),e.props.history.push("/statistics/overview")},e}return N()(a,[{key:"componentDidUpdate",value:function(e){e.data!==this.props.data&&this.setState({data:this.props.data})}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading,n=t.flagMenu,r=this.state,l=r.current,o=r.data;return R.a.createElement("div",{className:at.a.left},R.a.createElement("div",{className:at.a.leftTop},R.a.createElement("p",{className:"fs-16 c-black-85 fw-500"},"\u652f\u51fa\u5206\u6790"),R.a.createElement(et["a"].Group,{value:l,onChange:function(t){return e.onChange(t)}},dt.map(function(e){return R.a.createElement(et["a"].Button,{key:e.key,value:e.key},"\u6309",e.value)}))),R.a.createElement($e["a"],{spinning:a},R.a.createElement(ct,{data:o[dt[l].data]&&o[dt[l].data].totalSum?o[dt[l].data].appDimensionStatisticListReturnVos:[],total:o[dt[l].data]&&o[dt[l].data].totalSum?o[dt[l].data].totalSum:0,current:l,title:dt[l].value})),n&&R.a.createElement("div",{className:at.a.link,onClick:function(){return e.onLink()}},R.a.createElement("span",{className:"fs-12"},"\u67e5\u770b",dt[l].value,"\u5206\u6790")))}}]),a}(I["PureComponent"]),ht=ft,yt=a("x6x8"),gt=a.n(yt),vt=a("t3Pm"),Et=a.n(vt),bt=a("vpM6"),St=a.n(bt),Nt={0:{title:"\u8ba1\u5212\u5f85\u4ed8",columns:[{title:"\u4e8b\u7531",dataIndex:"reason",render:function(e,t){return R.a.createElement("span",null,R.a.createElement(V["a"],{templateType:t.templateType,id:t.id},R.a.createElement(m["a"],{placement:"topLeft",title:t.reason||""},R.a.createElement("span",{className:"eslips-2 ope-btn",style:{cursor:"pointer"}},t.reason))))},fixed:"left"},{title:"\u91d1\u989d\uff08\u5143\uff09",dataIndex:"sum",className:"moneyCol",render:function(e){return R.a.createElement("span",null,e?e/100:0)}},{title:"\u5355\u53f7",dataIndex:"invoiceNo"},{title:"\u63d0\u4ea4\u65f6\u95f4",dataIndex:"createTime",render:function(e){return R.a.createElement("span",null,e?L()(e).format("YYYY-MM-DD"):"")}},{title:"\u63d0\u4ea4\u4eba",dataIndex:"createName"},{title:"\u5355\u636e\u72b6\u6001",dataIndex:"statusStr"}]},1:{title:"\u5e94\u4ed8",columns:[{title:"\u4e8b\u7531",dataIndex:"reason",render:function(e,t){return R.a.createElement("span",null,R.a.createElement(V["a"],{templateType:t.templateType,id:t.id},R.a.createElement(m["a"],{placement:"topLeft",title:t.reason||""},R.a.createElement("span",{className:"eslips-2 ope-btn",style:{cursor:"pointer"}},t.reason))))},fixed:"left"},{title:"\u91d1\u989d\uff08\u5143\uff09",dataIndex:"sum",className:"moneyCol",render:function(e){return R.a.createElement("span",null,e?e/100:0)}},{title:"\u5355\u53f7",dataIndex:"invoiceNo"},{title:"\u63d0\u4ea4\u65f6\u95f4",dataIndex:"createTime",render:function(e){return R.a.createElement("span",null,e?L()(e).format("YYYY-MM-DD"):"")}},{title:"\u63d0\u4ea4\u4eba",dataIndex:"createName"},{title:"\u5355\u636e\u72b6\u6001",dataIndex:"statusStr"}]},2:{title:"\u5df2\u4ed8",columns:[{title:"\u4e8b\u7531",dataIndex:"reason",render:function(e,t){return R.a.createElement("span",null,R.a.createElement(V["a"],{templateType:t.templateType,id:t.id},R.a.createElement(m["a"],{placement:"topLeft",title:t.reason||""},R.a.createElement("span",{className:"eslips-2 ope-btn",style:{cursor:"pointer"}},t.reason))))},fixed:"left"},{title:"\u91d1\u989d\uff08\u5143\uff09",dataIndex:"sum",className:"moneyCol",render:function(e){return R.a.createElement("span",null,e?e/100:0)}},{title:"\u5355\u53f7",dataIndex:"invoiceNo"},{title:"\u63d0\u4ea4\u65f6\u95f4",dataIndex:"createTime",render:function(e){return R.a.createElement("span",null,e?L()(e).format("YYYY-MM-DD"):"")}},{title:"\u63d0\u4ea4\u4eba",dataIndex:"createName"},{title:"\u5355\u636e\u72b6\u6001",dataIndex:"statusStr"},{title:"\u652f\u4ed8\u65f6\u95f4",dataIndex:"createTime",render:function(e){return R.a.createElement("span",null,e?L()(e).format("YYYY-MM-DD"):"")}},{title:"\u53d1\u653e\u4eba",dataIndex:"statusStr"}]},3:{title:"\u501f\u6b3e\u5f85\u8fd8",columns:[{title:"\u4e8b\u7531",dataIndex:"reason",render:function(e,t){return R.a.createElement("span",null,R.a.createElement(V["a"],{templateType:t.templateType,id:t.id},R.a.createElement(m["a"],{placement:"topLeft",title:t.reason||""},R.a.createElement("span",{className:"eslips-2 ope-btn",style:{cursor:"pointer"}},t.reason))))},fixed:"left"},{title:"\u501f\u6b3e\u91d1\u989d\uff08\u5143\uff09",dataIndex:"loanSum",className:"moneyCol",render:function(e){return R.a.createElement("span",null,e?e/100:0)}},{title:"\u5f85\u6838\u9500\u91d1\u989d\uff08\u5143\uff09",dataIndex:"waitAssessSum",className:"moneyCol",render:function(e){return R.a.createElement("span",null,e?e/100:0)}},{title:"\u6838\u9500\u4e2d\u91d1\u989d",dataIndex:"freezeSum",render:function(e){return R.a.createElement("span",null,e?e/100:0)}},{title:"\u5355\u53f7",dataIndex:"invoiceNo"},{title:"\u63d0\u4ea4\u65f6\u95f4",dataIndex:"createTime",render:function(e){return R.a.createElement("span",null,e?L()(e).format("YYYY-MM-DD"):"")}},{title:"\u9884\u8ba1\u8fd8\u6b3e\u65e5\u671f",dataIndex:"repaymentTime",render:function(e){return R.a.createElement("span",null,e?L()(e).format("YYYY-MM-DD"):"")}}]},list:[{key:0,value:"\u8ba1\u5212\u5f85\u4ed8",id:"paymentSumPlan"},{key:1,value:"\u5e94\u4ed8",id:"payingSum"},{key:2,value:"\u5df2\u4ed8",id:"payedSum"},{key:3,value:"\u501f\u6b3e\u5f85\u8fd8",id:"repaymentSum"}]};function Ct(e){var t=wt();return function(){var a,n=T()(e);if(t){var r=T()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return _()(this,a)}}function wt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var xt=(mt=A["a"].create(),mt((pt=function(e){w()(a,e);var t=Ct(a);function a(e){var n;return b()(this,a),n=t.call(this,e),n.onShow=f()(p.a.mark(function e(){var t;return p.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=n.props.reportType,n.props.reportChange({pageNo:1,pageSize:10,reportType:t},function(){n.setState({visible:!0})});case 2:case"end":return e.stop()}},e)})),n.onCancel=function(){n.props.form.resetFields(),n.setState({visible:!1,searchContent:""})},n.onSearch=function(e){var t=n.props.reportType;n.props.reportChange({pageNo:1,pageSize:10,reportType:t,searchContent:e},function(){n.setState({searchContent:e})})},n.state={visible:!1,searchContent:""},n}return N()(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.children,r=t.loanList,l=t.reportType,o=t.total,c=t.reportChange,s=t.page,i=t.loanSumVo,m=this.state,u=m.visible,p=m.searchContent,d=Nt[l],f=d.columns,h=d.title;return R.a.createElement(R.a.Fragment,null,R.a.createElement("span",{onClick:function(){return e.onShow()}},a),R.a.createElement(W["a"],{title:h,visible:u,width:"880px",bodyStyle:{height:"470px",overflowY:"scroll"},onCancel:this.onCancel,maskClosable:!1,footer:R.a.createElement(R.a.Fragment,null,R.a.createElement(U["a"],{type:"default",key:"cen",onClick:this.onCancel},"\u53d6\u6d88"))},R.a.createElement("div",{className:"m-b-16"},R.a.createElement(F.a,{placeholder:"\u8bf7\u8f93\u5165\u5355\u53f7\u3001\u4e8b\u7531\u3001\u6536\u6b3e\u8d26\u6237",style:{width:"292px",marginRight:"20px"},onSearch:function(t){return e.onSearch(t)}}),3===Number(l)&&R.a.createElement("span",null,"\u5f85\u6838\u9500\u5171\u8ba1\xa5",i.waitAssessSumAll?i.waitAssessSumAll/100:0,"\uff0c\u501f\u6b3e\u5171\u8ba1\xa5",i.loanSumAll?i.loanSumAll/100:0)),R.a.createElement("div",{className:St.a.addCosts},R.a.createElement("div",{className:St.a.addTable},R.a.createElement(n["a"],{columns:f,dataSource:r,rowKey:"id",scroll:{x:"1300px"},pagination:{hideOnSinglePage:!0,current:s.pageNo,onChange:function(e){c({pageNo:e,pageSize:s.pageSize,searchContent:p,reportType:l})},total:o,size:"small",showTotal:function(){return"\u5171".concat(o,"\u6761\u6570\u636e")},showSizeChanger:!0,showQuickJumper:!0,onShowSizeChange:function(e,t){c({pageNo:e,pageSize:t,searchContent:p,reportType:l})}}})))))}}]),a}(I["Component"]),ut=pt))||ut),_t=xt,kt=[{name:"\u540c\u6bd4",icon:"iconshangsheng",key:"yearOnYear",type:"yearOnYearSymbolType"},{name:"\u73af\u6bd4",icon:"iconxiajiang",key:"annulus",type:"annulusSymbolType"}],Tt=function(e){var t=e.data,a=e.loading,n=e.submitReportDetail,r=e.reportChange,l=e.submitTime,o=e.reportPage,c=e.reportTotal,i=e.loanSumVo,m=e.onLink;return R.a.createElement($e["a"],{spinning:a},R.a.createElement("div",{className:Et.a.lefts},R.a.createElement("div",{className:Et.a.head},R.a.createElement("div",{className:Et.a.headL},R.a.createElement("i",{className:"iconfont iconzongzhichu fs-24",style:{color:"#00C795"}})),R.a.createElement("div",null,R.a.createElement("p",{className:"fs-16 c-black-85 fw-500",style:{marginBottom:"2px"}},"\u4f01\u4e1a\u603b\u652f\u51fa"),R.a.createElement("p",{className:"fs-12 c-black-45"},"\u603b\u652f\u51fa\u5305\u542b\u5ba1\u6279\u901a\u8fc7\uff0c\u5df2\u786e\u5b9a\u4f1a\u652f\u51fa\u7684\u6570\u636e"))),R.a.createElement("div",{style:{cursor:"pointer"},onClick:function(){return m(0)}},R.a.createElement("p",{className:"fs-36 fw-500 c-black-85 li-36 numF"},"\xa5 ",t.totalCostSum?t.totalCostSum/100:0),R.a.createElement("div",{className:Et.a.pro},kt.map(function(e){return R.a.createElement("div",{key:e.key,className:"m-r-24"},R.a.createElement("span",{className:"c-black-65 fs-12"},e.name),null!==t[e.type]&&R.a.createElement("i",{className:"iconfont ".concat(1===t[e.type]?"iconxiajiang":"iconshangsheng")}),R.a.createElement("span",{className:"c-black-85 fs-12"},t[e.key]||0,null!==t[e.type]&&"%"))}))),R.a.createElement(s["a"],{type:"horizontal",style:{margin:"20px 0 0 0"}}),R.a.createElement("div",{className:Et.a.centers},R.a.createElement("div",{className:Et.a.cPrice,onClick:function(){return m(0,2)}},R.a.createElement("p",{className:"fs-20 fw-500 c-black-85 numF"},"\xa5",t.needPayCostSum?t.needPayCostSum/100:0),R.a.createElement("p",{className:"fs-14 c-black-45"},"\u5f85\u4ed8\u91d1\u989d")),R.a.createElement(s["a"],{type:"vertical",style:{margin:0,height:"48px"}}),R.a.createElement("div",{className:Et.a.cPrice,onClick:function(){return m(0,3)}},R.a.createElement("p",{className:"fs-20 fw-500 c-black-85 numF"},"\xa5",t.paidCostSum?t.paidCostSum/100:0),R.a.createElement("p",{className:"fs-14 c-black-45"},"\u5df2\u4ed8\u91d1\u989d"))),R.a.createElement(_t,{loanList:n,reportChange:r,reportType:3,submitTime:l,page:o,total:c,loanSumVo:i},R.a.createElement("div",{className:Et.a.footer},R.a.createElement("div",{className:Et.a.footL},R.a.createElement("div",{className:Et.a.footLI},R.a.createElement("img",{alt:"\u8b66\u544a",src:gt.a})),R.a.createElement("span",null,"\u501f\u6b3e\u5f85\u8fd8\u91d1\u989d")),R.a.createElement("div",null,R.a.createElement("span",{className:"fs-14 numF",style:{color:"#FF2F00"}},"\xa5 ",t.repaymentSum?t.repaymentSum/100:0),R.a.createElement("i",{className:"iconfont iconenter c-black-45"}))))))},At=Tt;function It(e){var t=e.visible,a=e.changeBoss;return R.a.createElement(W["a"],{title:null,footer:null,visible:t,width:"680px",closable:!1,maskClosable:!1},R.a.createElement("p",{className:"fs-24 c-black-85 m-b-12 fw-500",style:{marginLeft:"14px"}},"\u6b22\u8fce\u6765\u5230\u946b\u652f\u51fa\uff01\u8bf7\u9009\u62e9\u60a8\u7684\u89d2\u8272"),R.a.createElement("p",{className:"fs-14 c-black-65 m-b-47",style:{marginLeft:"14px"}},"\u4e0d\u540c\u89d2\u8272\u5bf9\u5e94\u4e0d\u540c\u7684\u5de5\u4f5c\u53f0\uff0c\u5982\u6709\u89d2\u8272\u8f6c\u53d8\uff0c\u540e\u7eed\u53ef\u4ee5\u5728\u4e2a\u4eba\u4e2d\u5fc3\u4fee\u6539"),R.a.createElement("div",{className:B.a.judgeType},R.a.createElement("div",{className:B.a.boss,onClick:function(){return a(!0)}},R.a.createElement("p",{className:"fs-20 c-black-85 m-l-24 m-b-10",style:{paddingTop:"24px"}},"boss/\u603b\u76d1/\u4e3b\u7ba1"),R.a.createElement("p",{className:"c-black-36 fs-12 m-l-24",style:{width:"145px"}},"\u503e\u5411\u7edf\u8ba1\uff0c\u6309\u6570\u636e\u6743\u9650\u8303\u56f4\u67e5\u770b/\u7ba1\u7406\u4f01\u4e1a\u5f00\u652f")),R.a.createElement("div",{className:B.a.peoples,onClick:function(){return a(!1)}},R.a.createElement("p",{className:"fs-20 c-black-85 m-l-24 m-b-10",style:{paddingTop:"24px"}},"\u5458\u5de5"),R.a.createElement("p",{className:"c-black-36 fs-12 m-l-24"},"\u503e\u5411\u63d0\u62a5/\u67e5\u770b\u5355\u636e"))))}var Rt,Dt,Ot,Lt=It,Yt=a("ygAv"),Vt=(a("iQDF"),a("+eQT")),jt=a("B1kb");function Ft(e){var t=Pt();return function(){var a,n=T()(e);if(t){var r=T()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return _()(this,a)}}function Pt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var Qt,Mt,Bt,Ht,Kt=Vt["a"].RangePicker,zt=l["a"].Option,qt=(Rt=A["a"].create(),Rt((Ot=function(e){w()(a,e);var t=Ft(a);function a(){var e;b()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),e.state={isShow:!1},e.onChange=function(t){var a=e.props.submitTime;console.log("TimeComp -> submitTime",a),"-1"===t?e.setState({isShow:!0},function(){e.props.onChangeData("submitTime",v()({},a,{dateType:-1}))}):(e.setState({isShow:!1}),e.props.onChangeData("submitTime",v()({},a,Object(Yt["a"])(t),{type:t})))},e.onChangeDate=function(t,a){var n=e.props.submitTime;e.props.onChangeData("submitTime",v()({},n,{type:"-1",dateType:-1,startTime:a.length?L()("".concat(a[0]," 00:00:00")).format("x"):"",endTime:a.length?L()("".concat(a[1]," 23:59:59")).format("x"):""}))},e}return N()(a,[{key:"render",value:function(){var e=jt["a"].dateType,t=this.state.isShow,a=this.props,n=a.form.getFieldDecorator,r=a.submitTime;return R.a.createElement(A["a"],{layout:"inline",className:"m-l-16"},R.a.createElement(A["a"].Item,{style:{marginRight:0}},n("time",{initialValue:"0_m"})(R.a.createElement(l["a"],{style:{width:"160px"},onChange:this.onChange,getPopupContainer:function(e){return e.parentNode}},e.map(function(e){return R.a.createElement(zt,{key:e.key},e.value)})))),t&&R.a.createElement(A["a"].Item,null,R.a.createElement(Kt,{style:{width:"240px"},className:"m-l-8",onChange:this.onChangeDate,allowClear:!1,value:r.startTime?[L()(L()(Number(r.startTime)).format("YYYY-MM-DD"),"YYYY-MM-DD"),L()(L()(Number(r.endTime)).format("YYYY-MM-DD"),"YYYY-MM-DD")]:void 0})))}}]),a}(I["PureComponent"]),Dt=Ot))||Dt),Ut=qt;function Gt(e){var t=Jt();return function(){var a,n=T()(e);if(t){var r=T()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return _()(this,a)}}function Jt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var Zt=(Qt=A["a"].create(),Mt=Object(D["c"])(function(e){var t=e.loading,a=e.workbench,n=e.session,r=e.global,l=e.costGlobal;return{loading:t.effects["workbench/list"]||!1,list:a.list,query:a.query,OftenTemplate:a.OftenTemplate,UseTemplate:a.UseTemplate,total:a.total,userInfo:n.userInfo,loanSum:a.loanSum,personal:a.personal,invoiceList:r.invoiceList,submitReport:a.submitReport,submitReportDetail:a.submitReportDetail,reportPage:a.reportPage,fyCategory:a.fyCategory,cbCategory:a.cbCategory,totalSum:a.totalSum,pieList:a.pieList,deptTree:a.deptTree,reportTotal:a.reportTotal,loanSumVo:a.loanSumVo,roleStatics:l.roleStatics,chartLoading:t.effects["workbench/submitReport"]||!1}}),Qt(Bt=Mt((Ht=function(e){w()(a,e);var t=Gt(a);function a(e){var n;return b()(this,a),n=t.call(this,e),n.onQueryChart=function(e){n.props.dispatch({type:"workbench/submitReport",payload:e}).then(function(){var e=n.props.submitReport;n.setState({submitReport:e})})},n.onQuery=function(e){var t=n.state,a=t.invoiceTemplateIds,r=t.isComplete,l=t.reason;Object.assign(e,{searchContent:l||"",isMobile:!1,invoiceTemplateIds:"all"===a?[]:[a],isComplete:"all"===r?"":r}),n.props.dispatch({type:"workbench/list",payload:e})},n.onDelete=function(e,t){var a="workbench/del",r=n.props.query;n.props.dispatch({type:a,payload:{id:e,template:t}}).then(function(){n.onQuery(v()({},r))})},n.onHandleOk=function(){var e=n.props.query;n.onQuery(v()({},e))},n.onSearch=function(e){var t=n.props.query;n.setState({reason:e},function(){n.onQuery(v()({reason:e},t))})},n.onPersonal=function(){var e=n.props.query,t=n.state.isBoss;n.onQuery(v()({},e,{pageNo:1})),n.props.dispatch({type:"workbench/personal",payload:{}}).then(function(){var e=n.props.personal;n.setState({personal:e})});var a=n.state.submitTime;t&&n.chart({url:"submitReport",payload:n.setVal({url:"submitReport",payload:v()({},a)})})},n.setVal=function(e){var t=e.url,a=e.payload,n={startTime:a.startTime,endTime:a.endTime};if("submitReport"===t){a.deptIds&&Object.assign(n,{deptIds:a.deptIds});var r=0;"-1"!==a.type&&(a.type.indexOf("q")>-1?r=1:a.type.indexOf("y")>-1&&(r=2)),Object.assign(n,{dateType:r})}else"chartPie"===t&&Object.assign(n,{attribute:a.attribute});return n},n.onComplete=function(e,t){n.setState(y()({},t,e),function(){var e=n.props.query;n.onQuery(v()({},e,{pageNo:1}))})},n.onreset=function(){n.setState({isComplete:!1,invoiceTemplateIds:"all",reason:""},function(){var e=n.props.query;n.onQuery(v()({},e,{pageNo:1}))})},n.onSetUser=function(e){n.props.dispatch({type:"workbench/setUser",payload:{isBoss:e}}).then(function(){localStorage.removeItem("workbenchIsBoss"),localStorage.setItem("workbenchIsBoss",e),n.setState({isBoss:e,bossVisible:!0},function(){localStorage.removeItem("isSetWorkbench"),localStorage.setItem("isSetWorkbench","true"),n.onPersonal()})})},n.reportChange=function(e,t){var a=n.state.submitTime,r=a.startTime,l=a.endTime,o=a.deptIds;o&&Object.assign(e,{deptIds:o}),console.log("reportChange",r),n.props.dispatch({type:"workbench/submitReportDetail",payload:v()({},e,{startTime:r,endTime:l})}).then(function(){t&&t()})},n.chart=function(e,t){var a=e.payload,r=e.url;n.props.dispatch({type:"workbench/".concat(r),payload:a}).then(function(){t&&t()})},n.onChangeState=function(e,t){n.setState(y()({},e,t),function(){"submitTime"===e&&(t.type&&delete t.type,n.onQueryChart(v()({},t)))})},n.onLink=function(e,t){var a=n.state.submitTime;localStorage.removeItem("linkType"),localStorage.removeItem("linkStatus"),localStorage.setItem("linkType",e),localStorage.removeItem("submitTime"),localStorage.setItem("submitTime",JSON.stringify(a)),t&&localStorage.setItem("linkStatus",t),n.props.history.push("/statistics/overview")},n.state={reason:"",personal:{},isComplete:!1,invoiceTemplateIds:"all",isBoss:!("true"!==localStorage.getItem("workbenchIsBoss")),bossVisible:!("true"!==localStorage.getItem("isSetWorkbench")),submitTime:v()({},Object(Yt["a"])("0_m"),{type:"0_m"}),submitReport:{},flagMenu:!1},n}return N()(a,null,[{key:"getDerivedStateFromProps",value:function(e){return e.location.state&&e.location.state.id?{isBoss:1===e.location.state.id}:null}}]),N()(a,[{key:"componentDidMount",value:function(){var e=f()(p.a.mark(function e(){var t,a,n,r,l=this;return p.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:document.querySelector("#svg-area")&&Xe.init(),t=this.props.dispatch,a=[{url:"workbench/personal",params:{}},{url:"costGlobal/roleStatics",params:{id:"470538850289750017"}},{url:"workbench/costList",params:{}},{url:"global/invoiceList",params:{}},{url:"workbench/deptTree",params:{}}],n=a.map(function(e){return e.url}),r=n.map(function(e,n){return t({type:e,payload:v()({},a[n].params)})}),Promise.all(r).then(function(){var e=l.props,t=e.personal,a=e.roleStatics,n=a.filter(function(e){return"statistics_department"===e.url}),r=!1;n&&n.length&&(r=!0),l.setState({personal:t,flagMenu:r}),l.onQuery({isComplete:!1,pageNo:1,pageSize:10}),l.onQueryChart(v()({},Object(Yt["a"])("0_m"),{dateType:0}))});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"render",value:function(){var e=this,t=this.props,a=t.list,o=t.total,u=t.query,p=t.userInfo,d=t.loading,f=t.invoiceList,h=t.OftenTemplate,y=t.submitReportDetail,g=t.reportPage,v=t.reportTotal,E=t.loanSumVo,b=t.chartLoading,S=this.state,N=S.personal,C=S.isComplete,w=S.invoiceTemplateIds,x=S.reason,_=S.isBoss,k=S.bossVisible,T=S.submitTime,I=S.submitReport,D=S.flagMenu,O=[{title:"\u4e8b\u7531",dataIndex:"reason",width:150,render:function(t,a){return R.a.createElement("span",null,R.a.createElement(V["a"],{id:a.invoiceId,templateId:a.invoiceTemplateId,templateType:a.templateType,allow:"copy",onCallback:function(){return e.onPersonal()}},R.a.createElement(m["a"],{placement:"topLeft",title:a.reason||""},R.a.createElement("a",{className:"eslips-2",style:{cursor:"pointer"}},a.reason))))}},{title:"\u91d1\u989d(\u5143)",dataIndex:"sum",render:function(e){return R.a.createElement("span",null,e&&e/100)},className:"moneyCol",width:140},{title:"\u5355\u53f7",dataIndex:"invoiceNo",width:160},{title:"\u5355\u636e\u7c7b\u578b",dataIndex:"invoiceTemplateName",width:160},{title:"\u63d0\u4ea4\u65f6\u95f4",dataIndex:"createTime",render:function(e,t){return R.a.createElement("span",null,t.createTime?L()(t.createTime).format("YYYY-MM-DD"):"-")},width:150},{title:"\u5355\u636e\u72b6\u6001",dataIndex:"statusStr",width:100,render:function(e,t){return R.a.createElement("span",null,t.statusStr||Object(Y["z"])(t.status,Y["C"]))}},{title:"\u64cd\u4f5c",dataIndex:"ope",render:function(t,a){return R.a.createElement("span",null,(4===Number(a.approveStatus)||5===Number(a.status))&&R.a.createElement(i["a"],{title:"\u662f\u5426\u786e\u8ba4\u5220\u9664\uff1f",onConfirm:function(){return e.onDelete(a.invoiceId,a.templateType)}},R.a.createElement("span",{className:"deleteColor"},"\u5220\u9664")),(4===Number(a.approveStatus)||5===Number(a.status))&&R.a.createElement(s["a"],{type:"vertical"}),R.a.createElement(V["a"],{id:a.invoiceId,templateId:a.invoiceTemplateId,templateType:a.templateType,allow:"copy",onCallback:function(){return e.onPersonal()}},R.a.createElement("a",null,"\u67e5\u770b")))},width:120,fixed:"right",className:"fixCenter"}];return R.a.createElement("div",null,p.isSupperAdmin&&"true"!==localStorage.getItem("initShow")?R.a.createElement(Ze["a"],c()({},this.props,{userInfo:p})):R.a.createElement(R.a.Fragment,null,R.a.createElement(Lt,{visible:!k,changeBoss:this.onSetUser}),R.a.createElement("div",{className:q.a.app_header},R.a.createElement(Ue,{personal:N||{},onOk:function(){return e.onPersonal()},isBoss:_})),!_&&R.a.createElement("div",{className:q.a.ad},R.a.createElement(Je,{onOk:function(){return e.onPersonal()},OftenTemplate:h}),R.a.createElement(K,{onOk:function(){return e.onPersonal()}})),_&&R.a.createElement("div",{className:q.a.ad,style:{margin:"24px 0 16px 24px",alignItems:"center"}},R.a.createElement("p",{className:"c-black-85 fs-18 fw-500"},"\u963f\u7c73\u5df4\u652f\u51fa\u7b80\u62a5"),R.a.createElement(Ut,{onChangeData:this.onChangeState,submitTime:T})),_&&R.a.createElement("div",{className:q.a.ad,style:{marginTop:0}},R.a.createElement("div",{className:q.a.rightCharts},R.a.createElement(At,{data:I||{},submitReport:I,submitReportDetail:y,reportPage:g,reportChange:this.reportChange,submitTime:T,onChangeData:this.onChangeState,reportTotal:v,loanSumVo:E,onLink:this.onLink,loading:b})),R.a.createElement(ht,c()({},this.props,{data:I||{},loading:b,flagMenu:D}))),_&&R.a.createElement("p",{className:"fw-500 fs-18 c-black-85 m-l-24 m-b-12"},"\u6211\u53d1\u8d77\u7684\u5355\u636e"),R.a.createElement("div",{className:"content-dt",style:{padding:"0 0 32px 0",height:"auto",margin:_?"0 24px 24px 24px":"24px"}},R.a.createElement("div",{style:{margin:"0 32px"}},!_&&R.a.createElement("p",{className:"fw-500 fs-14 c-black-85 m-t-16"},"\u6211\u53d1\u8d77\u7684\u5355\u636e"),R.a.createElement("div",{className:q.a.searchs,style:{marginTop:_?"24px":"16px"}},R.a.createElement(A["a"],{layout:"inline",style:{display:"flex"}},R.a.createElement(A["a"].Item,{label:"\u5355\u636e\u72b6\u6001",style:{marginRight:"24px"}},R.a.createElement(l["a"],{style:{width:"160px"},value:C,onChange:function(t){return e.onComplete(t,"isComplete")}},R.a.createElement(l["a"].Option,{value:!1},"\u672a\u5b8c\u6210"),R.a.createElement(l["a"].Option,{value:!0},"\u5df2\u5b8c\u6210"),R.a.createElement(l["a"].Option,{value:"all"},"\u5168\u90e8"))),R.a.createElement(A["a"].Item,{label:"\u5355\u636e\u7c7b\u578b",style:{marginRight:"24px"}},R.a.createElement(l["a"],{value:w,style:{width:"160px"},dropdownMatchSelectWidth:!1,onChange:function(t){return e.onComplete(t,"invoiceTemplateIds")},dropdownMenuStyle:{width:"186px"}},R.a.createElement(l["a"].Option,{value:"all"},"\u5168\u90e8"),f.map(function(e){return R.a.createElement(l["a"].Option,{value:e.id,key:e.id},e.name)}))),R.a.createElement("div",{className:q.a.onreset,onClick:function(){return e.onreset()}},R.a.createElement(r["a"],{type:"sync"}),R.a.createElement("span",{className:"m-l-4"},"\u91cd\u7f6e"))),R.a.createElement(F.a,{placeholder:"\u5355\u53f7\u3001\u4e8b\u7531\u3001\u6536\u6b3e\u4eba",style:{width:"272px"},onSearch:function(t){return e.onSearch(t)},onInput:function(t){return e.setState({reason:t.target.value})},value:x})),R.a.createElement(n["a"],{columns:O,dataSource:a,rowKey:"invoiceId",scroll:{x:1500},loading:d,pagination:{current:u.pageNo,onChange:function(t){e.onQuery({pageNo:t,pageSize:u.pageSize,reason:x})},total:o,size:"small",showTotal:function(){return"\u5171".concat(o,"\u6761\u6570\u636e")},showSizeChanger:!0,showQuickJumper:!0,onShowSizeChange:function(t,a){e.onQuery({reason:x,pageNo:t,pageSize:a})}}})))))}}]),a}(I["PureComponent"]),Bt=Ht))||Bt)||Bt);t["default"]=Zt},jQMc:function(e,t,a){e.exports={left:"left___1EqxR",top:"top___3x83w",chart:"chart___1q9EG",leftTop:"leftTop___2MmeP",leftMenu:"leftMenu___3LizL",noData:"noData___j8fUJ",noDataChild:"noDataChild___3ZaeL",tooltip:"tooltip___1P1bR",tooltipTit:"tooltipTit___3xqTx",tooltipBall:"tooltipBall___279Dk",tooltipCont:"tooltipCont___Kn0XV",link:"link___6F1eZ"}},syj9:function(e,t,a){e.exports={header:"header___2D__p","wave-container":"wave-container___1OktC",headerLeft:"headerLeft___3zwGb",headerRight:"headerRight___f0c6b",headTag:"headTag___2Tiyj",hdLoan:"hdLoan___1sgoC",loan:"loan___35LQ8",lines:"lines___2deEq",cost:"cost___3VyCX",caogao:"caogao___3Xg3Z",bossHeader:"bossHeader___1OQuS",btns:"btns___35pEE",headLeftC:"headLeftC___3_elW",tags:"tags___D0wNi",iconfonts:"iconfonts___1TqP-",banner:"banner___2bqx1",judgeType:"judgeType___VGERq",boss:"boss___2DGR7",peoples:"peoples___3yjjQ"}},t3Pm:function(e,t,a){e.exports={lefts:"lefts___3FYLj",head:"head___1-R1W",headL:"headL___1v63B",pro:"pro___1p4ER",footer:"footer___3Mp7H",footL:"footL___2eW07",footLI:"footLI___1UnV7",centers:"centers___kOZ-r",cPrice:"cPrice___tLAw3"}},vpM6:function(e,t,a){e.exports={submit:"submit___2i5w5",top:"top___1Y3Ua",bottom:"bottom___2qQaI",content:"content___1D4Qg"}},x34a:function(e,t,a){e.exports={header_cnt:"header_cnt___2axmX",header_add:"header_add___2mNGD",header_add_mc:"header_add_mc___1ZqVK",offten:"offten___1iJb-",app_header:"app_header___P0r4x",cost_cnt:"cost_cnt___2j4v-",banner_wrapper:"banner_wrapper___3dCKR",close:"close___2jp9B",banner:"banner___1p_Bm",banner_footer:"banner_footer___2qtcZ",left_top:"left_top___3GXu1",left_bottom:"left_bottom___Xe5W5",footer_right:"footer_right___1tHXx",footer_left_btn:"footer_left_btn___3rHeK",jumpout:"jumpout___GOF3t",opening:"opening___21mMO",ad:"ad___13hOI",onreset:"onreset___2bIv3",searchs:"searchs___CdzMV",rightCharts:"rightCharts___2rE5x"}},x6x8:function(e,t){e.exports="data:image/png;base64,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"}}]);